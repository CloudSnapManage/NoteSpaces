function gd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function im(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var vd={exports:{}},zi={},yd={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),om=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),pm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),pu=Symbol.iterator;function gm(t){return t===null||typeof t!="object"?null:(t=pu&&t[pu]||t["@@iterator"],typeof t=="function"?t:null)}var wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_d=Object.assign,xd={};function un(t,e,r){this.props=t,this.context=e,this.refs=xd,this.updater=r||wd}un.prototype.isReactComponent={};un.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};un.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bd(){}bd.prototype=un.prototype;function ll(t,e,r){this.props=t,this.context=e,this.refs=xd,this.updater=r||wd}var ul=ll.prototype=new bd;ul.constructor=ll;_d(ul,un.prototype);ul.isPureReactComponent=!0;var mu=Array.isArray,kd=Object.prototype.hasOwnProperty,cl={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Ed(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kd.call(e,n)&&!Sd.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ms,type:t,key:i,ref:o,props:s,_owner:cl.current}}function vm(t,e){return{$$typeof:ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dl(t){return typeof t=="object"&&t!==null&&t.$$typeof===ms}function ym(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gu=/\/+/g;function ho(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ym(""+t.key):e.toString(36)}function Ys(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ms:case om:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+ho(o,0):n,mu(s)?(r="",t!=null&&(r=t.replace(gu,"$&/")+"/"),Ys(s,e,r,"",function(u){return u})):s!=null&&(dl(s)&&(s=vm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",mu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+ho(i,a);o+=Ys(i,e,r,l,s)}else if(l=gm(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+ho(i,a++),o+=Ys(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ss(t,e,r){if(t==null)return t;var n=[],s=0;return Ys(t,n,"","",function(i){return e.call(r,i,s++)}),n}function wm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},Xs={transition:null},_m={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:cl};function jd(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Ss,forEach:function(t,e,r){Ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ss(t,function(){e++}),e},toArray:function(t){return Ss(t,function(e){return e})||[]},only:function(t){if(!dl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=un;D.Fragment=am;D.Profiler=um;D.PureComponent=ll;D.StrictMode=lm;D.Suspense=fm;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;D.act=jd;D.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_d({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=cl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kd.call(e,l)&&!Sd.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ms,type:t.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(t){return t={$$typeof:dm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cm,_context:t},t.Consumer=t};D.createElement=Ed;D.createFactory=function(t){var e=Ed.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:hm,render:t}};D.isValidElement=dl;D.lazy=function(t){return{$$typeof:mm,_payload:{_status:-1,_result:t},_init:wm}};D.memo=function(t,e){return{$$typeof:pm,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=Xs.transition;Xs.transition={};try{t()}finally{Xs.transition=e}};D.unstable_act=jd;D.useCallback=function(t,e){return ke.current.useCallback(t,e)};D.useContext=function(t){return ke.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};D.useEffect=function(t,e){return ke.current.useEffect(t,e)};D.useId=function(){return ke.current.useId()};D.useImperativeHandle=function(t,e,r){return ke.current.useImperativeHandle(t,e,r)};D.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return ke.current.useMemo(t,e)};D.useReducer=function(t,e,r){return ke.current.useReducer(t,e,r)};D.useRef=function(t){return ke.current.useRef(t)};D.useState=function(t){return ke.current.useState(t)};D.useSyncExternalStore=function(t,e,r){return ke.current.useSyncExternalStore(t,e,r)};D.useTransition=function(){return ke.current.useTransition()};D.version="18.3.1";yd.exports=D;var b=yd.exports;const Od=sm(b),xm=gd({__proto__:null,default:Od},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=b,km=Symbol.for("react.element"),Sm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,jm=bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Om={key:!0,ref:!0,__self:!0,__source:!0};function Cd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Em.call(e,n)&&!Om.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:km,type:t,key:i,ref:o,props:s,_owner:jm.current}}zi.Fragment=Sm;zi.jsx=Cd;zi.jsxs=Cd;vd.exports=zi;var d=vd.exports,Xo={},Nd={exports:{}},Me={},Pd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,A){var I=j.length;j.push(A);e:for(;0<I;){var ee=I-1>>>1,ue=j[ee];if(0<s(ue,A))j[ee]=A,j[I]=ue,I=ee;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var A=j[0],I=j.pop();if(I!==A){j[0]=I;e:for(var ee=0,ue=j.length,bs=ue>>>1;ee<bs;){var Xt=2*(ee+1)-1,co=j[Xt],Zt=Xt+1,ks=j[Zt];if(0>s(co,I))Zt<ue&&0>s(ks,co)?(j[ee]=ks,j[Zt]=I,ee=Zt):(j[ee]=co,j[Xt]=I,ee=Xt);else if(Zt<ue&&0>s(ks,I))j[ee]=ks,j[Zt]=I,ee=Zt;else break e}}return A}function s(j,A){var I=j.sortIndex-A.sortIndex;return I!==0?I:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=j)n(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(u)}}function x(j){if(w=!1,v(j),!y)if(r(l)!==null)y=!0,$(k);else{var A=r(u);A!==null&&F(x,A.startTime-j)}}function k(j,A){y=!1,w&&(w=!1,g(N),N=-1),m=!0;var I=f;try{for(v(A),h=r(l);h!==null&&(!(h.expirationTime>A)||j&&!Ee());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ue=ee(h.expirationTime<=A);A=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(l)&&n(l),v(A)}else n(l);h=r(l)}if(h!==null)var bs=!0;else{var Xt=r(u);Xt!==null&&F(x,Xt.startTime-A),bs=!1}return bs}finally{h=null,f=I,m=!1}}var E=!1,O=null,N=-1,U=5,L=-1;function Ee(){return!(t.unstable_now()-L<U)}function bt(){if(O!==null){var j=t.unstable_now();L=j;var A=!0;try{A=O(!0,j)}finally{A?kt():(E=!1,O=null)}}else E=!1}var kt;if(typeof p=="function")kt=function(){p(bt)};else if(typeof MessageChannel<"u"){var yn=new MessageChannel,xs=yn.port2;yn.port1.onmessage=bt,kt=function(){xs.postMessage(null)}}else kt=function(){_(bt,0)};function $(j){O=j,E||(E=!0,kt())}function F(j,A){N=_(function(){j(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,$(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return j()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=f;f=j;try{return A()}finally{f=I}},t.unstable_scheduleCallback=function(j,A,I){var ee=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ee+I:ee):I=ee,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=I+ue,j={id:c++,callback:A,priorityLevel:j,startTime:I,expirationTime:ue,sortIndex:-1},I>ee?(j.sortIndex=I,e(u,j),r(l)===null&&j===r(u)&&(w?(g(N),N=-1):w=!0,F(x,I-ee))):(j.sortIndex=ue,e(l,j),y||m||(y=!0,$(k))),j},t.unstable_shouldYield=Ee,t.unstable_wrapCallback=function(j){var A=f;return function(){var I=f;f=A;try{return j.apply(this,arguments)}finally{f=I}}}})(Td);Pd.exports=Td;var Cm=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=b,Ue=Cm;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rd=new Set,qn={};function xr(t,e){en(t,e),en(t+"Capture",e)}function en(t,e){for(qn[t]=e,t=0;t<e.length;t++)Rd.add(e[t])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,Pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},yu={};function Tm(t){return Zo.call(yu,t)?!0:Zo.call(vu,t)?!1:Pm.test(t)?yu[t]=!0:(vu[t]=!0,!1)}function Rm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Am(t,e,r,n){if(e===null||typeof e>"u"||Rm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];me[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){me[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){me[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){me[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){me[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){me[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var hl=/[\-:]([a-z])/g;function fl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hl,fl);me[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hl,fl);me[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hl,fl);me[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){me[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});me.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){me[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function pl(t,e,r,n){var s=me.hasOwnProperty(e)?me[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Am(e,r,s,n)&&(r=null),n||s===null?Tm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xt=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),ml=Symbol.for("react.strict_mode"),ea=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Id=Symbol.for("react.context"),gl=Symbol.for("react.forward_ref"),ta=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),$d=Symbol.for("react.offscreen"),wu=Symbol.iterator;function wn(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,fo;function Nn(t){if(fo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fo=e&&e[1]||""}return`
`+fo+t}var po=!1;function mo(t,e){if(!t||po)return"";po=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{po=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nn(t):""}function Im(t){switch(t.tag){case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 2:case 15:return t=mo(t.type,!1),t;case 11:return t=mo(t.type.render,!1),t;case 1:return t=mo(t.type,!0),t;default:return""}}function na(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lr:return"Fragment";case $r:return"Portal";case ea:return"Profiler";case ml:return"StrictMode";case ta:return"Suspense";case ra:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Id:return(t.displayName||"Context")+".Consumer";case Ad:return(t._context.displayName||"Context")+".Provider";case gl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vl:return e=t.displayName||null,e!==null?e:na(t.type)||"Memo";case Ct:e=t._payload,t=t._init;try{return na(t(e))}catch{}}return null}function $m(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return na(e);case 8:return e===ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ld(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lm(t){var e=Ld(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function js(t){t._valueTracker||(t._valueTracker=Lm(t))}function Dd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ld(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sa(t,e){var r=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _u(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ud(t,e){e=e.checked,e!=null&&pl(t,"checked",e,!1)}function ia(t,e){Ud(t,e);var r=qt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oa(t,e.type,r):e.hasOwnProperty("defaultValue")&&oa(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function oa(t,e,r){(e!=="number"||ui(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Pn=Array.isArray;function Kr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function aa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(S(92));if(Pn(r)){if(1<r.length)throw Error(S(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qt(r)}}function Md(t,e){var r=qt(e.value),n=qt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ku(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Os,Fd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Os.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dm=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(t){Dm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),In[e]=In[t]})});function zd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||In.hasOwnProperty(t)&&In[t]?(""+e).trim():e+"px"}function Wd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=zd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Um=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(t,e){if(e){if(Um[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function ca(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,Gr=null,Jr=null;function Su(t){if(t=ys(t)){if(typeof ha!="function")throw Error(S(280));var e=t.stateNode;e&&(e=Ki(e),ha(t.stateNode,t.type,e))}}function Vd(t){Gr?Jr?Jr.push(t):Jr=[t]:Gr=t}function qd(){if(Gr){var t=Gr,e=Jr;if(Jr=Gr=null,Su(t),e)for(t=0;t<e.length;t++)Su(e[t])}}function Hd(t,e){return t(e)}function Kd(){}var go=!1;function Gd(t,e,r){if(go)return t(e,r);go=!0;try{return Hd(t,e,r)}finally{go=!1,(Gr!==null||Jr!==null)&&(Kd(),qd())}}function Kn(t,e){var r=t.stateNode;if(r===null)return null;var n=Ki(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(S(231,e,typeof r));return r}var fa=!1;if(gt)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){fa=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{fa=!1}function Mm(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var $n=!1,ci=null,di=!1,pa=null,Bm={onError:function(t){$n=!0,ci=t}};function Fm(t,e,r,n,s,i,o,a,l){$n=!1,ci=null,Mm.apply(Bm,arguments)}function zm(t,e,r,n,s,i,o,a,l){if(Fm.apply(this,arguments),$n){if($n){var u=ci;$n=!1,ci=null}else throw Error(S(198));di||(di=!0,pa=u)}}function br(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Jd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Eu(t){if(br(t)!==t)throw Error(S(188))}function Wm(t){var e=t.alternate;if(!e){if(e=br(t),e===null)throw Error(S(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Eu(s),t;if(i===n)return Eu(s),e;i=i.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?t:e}function Qd(t){return t=Wm(t),t!==null?Yd(t):null}function Yd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yd(t);if(e!==null)return e;t=t.sibling}return null}var Xd=Ue.unstable_scheduleCallback,ju=Ue.unstable_cancelCallback,Vm=Ue.unstable_shouldYield,qm=Ue.unstable_requestPaint,re=Ue.unstable_now,Hm=Ue.unstable_getCurrentPriorityLevel,wl=Ue.unstable_ImmediatePriority,Zd=Ue.unstable_UserBlockingPriority,hi=Ue.unstable_NormalPriority,Km=Ue.unstable_LowPriority,eh=Ue.unstable_IdlePriority,Wi=null,at=null;function Gm(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Wi,t,void 0,(t.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Ym,Jm=Math.log,Qm=Math.LN2;function Ym(t){return t>>>=0,t===0?32:31-(Jm(t)/Qm|0)|0}var Cs=64,Ns=4194304;function Tn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Tn(a):(i&=o,i!==0&&(n=Tn(i)))}else o=r&~s,o!==0?n=Tn(o):i!==0&&(n=Tn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-et(e),s=1<<r,n|=t[r],e&=~s;return n}function Xm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-et(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Xm(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ma(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function th(){var t=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),t}function vo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function gs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-et(e),t[e]=r}function eg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-et(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function _l(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-et(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function rh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nh,xl,sh,ih,oh,ga=!1,Ps=[],Lt=null,Dt=null,Ut=null,Gn=new Map,Jn=new Map,Pt=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(t,e){switch(t){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Gn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(e.pointerId)}}function xn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ys(e),e!==null&&xl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rg(t,e,r,n,s){switch(e){case"focusin":return Lt=xn(Lt,t,e,r,n,s),!0;case"dragenter":return Dt=xn(Dt,t,e,r,n,s),!0;case"mouseover":return Ut=xn(Ut,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Gn.set(i,xn(Gn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Jn.set(i,xn(Jn.get(i)||null,t,e,r,n,s)),!0}return!1}function ah(t){var e=ur(t.target);if(e!==null){var r=br(e);if(r!==null){if(e=r.tag,e===13){if(e=Jd(r),e!==null){t.blockedOn=e,oh(t.priority,function(){sh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=va(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);da=n,r.target.dispatchEvent(n),da=null}else return e=ys(r),e!==null&&xl(e),t.blockedOn=r,!1;e.shift()}return!0}function Cu(t,e,r){Zs(t)&&r.delete(e)}function ng(){ga=!1,Lt!==null&&Zs(Lt)&&(Lt=null),Dt!==null&&Zs(Dt)&&(Dt=null),Ut!==null&&Zs(Ut)&&(Ut=null),Gn.forEach(Cu),Jn.forEach(Cu)}function bn(t,e){t.blockedOn===e&&(t.blockedOn=null,ga||(ga=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,ng)))}function Qn(t){function e(s){return bn(s,t)}if(0<Ps.length){bn(Ps[0],t);for(var r=1;r<Ps.length;r++){var n=Ps[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Lt!==null&&bn(Lt,t),Dt!==null&&bn(Dt,t),Ut!==null&&bn(Ut,t),Gn.forEach(e),Jn.forEach(e),r=0;r<Pt.length;r++)n=Pt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pt.length&&(r=Pt[0],r.blockedOn===null);)ah(r),r.blockedOn===null&&Pt.shift()}var Qr=xt.ReactCurrentBatchConfig,pi=!0;function sg(t,e,r,n){var s=W,i=Qr.transition;Qr.transition=null;try{W=1,bl(t,e,r,n)}finally{W=s,Qr.transition=i}}function ig(t,e,r,n){var s=W,i=Qr.transition;Qr.transition=null;try{W=4,bl(t,e,r,n)}finally{W=s,Qr.transition=i}}function bl(t,e,r,n){if(pi){var s=va(t,e,r,n);if(s===null)Oo(t,e,n,mi,r),Ou(t,n);else if(rg(s,t,e,r,n))n.stopPropagation();else if(Ou(t,n),e&4&&-1<tg.indexOf(t)){for(;s!==null;){var i=ys(s);if(i!==null&&nh(i),i=va(t,e,r,n),i===null&&Oo(t,e,n,mi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Oo(t,e,n,null,r)}}var mi=null;function va(t,e,r,n){if(mi=null,t=yl(n),t=ur(t),t!==null)if(e=br(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Jd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mi=t,null}function lh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hm()){case wl:return 1;case Zd:return 4;case hi:case Km:return 16;case eh:return 536870912;default:return 16}default:return 16}}var At=null,kl=null,ei=null;function uh(){if(ei)return ei;var t,e=kl,r=e.length,n,s="value"in At?At.value:At.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ei=s.slice(t,1<n?1-n:void 0)}function ti(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function Nu(){return!1}function Be(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ts:Nu,this.isPropagationStopped=Nu,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),e}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Be(cn),vs=X({},cn,{view:0,detail:0}),og=Be(vs),yo,wo,kn,Vi=X({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(yo=t.screenX-kn.screenX,wo=t.screenY-kn.screenY):wo=yo=0,kn=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:wo}}),Pu=Be(Vi),ag=X({},Vi,{dataTransfer:0}),lg=Be(ag),ug=X({},vs,{relatedTarget:0}),_o=Be(ug),cg=X({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),dg=Be(cg),hg=X({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fg=Be(hg),pg=X({},cn,{data:0}),Tu=Be(pg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vg[t])?!!e[t]:!1}function El(){return yg}var wg=X({},vs,{key:function(t){if(t.key){var e=mg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_g=Be(wg),xg=X({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=Be(xg),bg=X({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),kg=Be(bg),Sg=X({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=Be(Sg),jg=X({},Vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Og=Be(jg),Cg=[9,13,27,32],jl=gt&&"CompositionEvent"in window,Ln=null;gt&&"documentMode"in document&&(Ln=document.documentMode);var Ng=gt&&"TextEvent"in window&&!Ln,ch=gt&&(!jl||Ln&&8<Ln&&11>=Ln),Au=" ",Iu=!1;function dh(t,e){switch(t){case"keyup":return Cg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function Pg(t,e){switch(t){case"compositionend":return hh(e);case"keypress":return e.which!==32?null:(Iu=!0,Au);case"textInput":return t=e.data,t===Au&&Iu?null:t;default:return null}}function Tg(t,e){if(Dr)return t==="compositionend"||!jl&&dh(t,e)?(t=uh(),ei=kl=At=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ch&&e.locale!=="ko"?null:e.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rg[t.type]:e==="textarea"}function fh(t,e,r,n){Vd(n),e=gi(e,"onChange"),0<e.length&&(r=new Sl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Dn=null,Yn=null;function Ag(t){Sh(t,0)}function qi(t){var e=Br(t);if(Dd(e))return t}function Ig(t,e){if(t==="change")return e}var ph=!1;if(gt){var xo;if(gt){var bo="oninput"in document;if(!bo){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),bo=typeof Lu.oninput=="function"}xo=bo}else xo=!1;ph=xo&&(!document.documentMode||9<document.documentMode)}function Du(){Dn&&(Dn.detachEvent("onpropertychange",mh),Yn=Dn=null)}function mh(t){if(t.propertyName==="value"&&qi(Yn)){var e=[];fh(e,Yn,t,yl(t)),Gd(Ag,e)}}function $g(t,e,r){t==="focusin"?(Du(),Dn=e,Yn=r,Dn.attachEvent("onpropertychange",mh)):t==="focusout"&&Du()}function Lg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qi(Yn)}function Dg(t,e){if(t==="click")return qi(e)}function Ug(t,e){if(t==="input"||t==="change")return qi(e)}function Mg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rt=typeof Object.is=="function"?Object.is:Mg;function Xn(t,e){if(rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Zo.call(e,s)||!rt(t[s],e[s]))return!1}return!0}function Uu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mu(t,e){var r=Uu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uu(r)}}function gh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vh(){for(var t=window,e=ui();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ui(t.document)}return e}function Ol(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bg(t){var e=vh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gh(r.ownerDocument.documentElement,r)){if(n!==null&&Ol(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Mu(r,i);var o=Mu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fg=gt&&"documentMode"in document&&11>=document.documentMode,Ur=null,ya=null,Un=null,wa=!1;function Bu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wa||Ur==null||Ur!==ui(n)||(n=Ur,"selectionStart"in n&&Ol(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&Xn(Un,n)||(Un=n,n=gi(ya,"onSelect"),0<n.length&&(e=new Sl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ur)))}function Rs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},ko={},yh={};gt&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Hi(t){if(ko[t])return ko[t];if(!Mr[t])return t;var e=Mr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yh)return ko[t]=e[r];return t}var wh=Hi("animationend"),_h=Hi("animationiteration"),xh=Hi("animationstart"),bh=Hi("transitionend"),kh=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){kh.set(t,e),xr(e,[t])}for(var So=0;So<Fu.length;So++){var Eo=Fu[So],zg=Eo.toLowerCase(),Wg=Eo[0].toUpperCase()+Eo.slice(1);Kt(zg,"on"+Wg)}Kt(wh,"onAnimationEnd");Kt(_h,"onAnimationIteration");Kt(xh,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(bh,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function zu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zm(n,e,void 0,t),t.currentTarget=null}function Sh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;zu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;zu(s,a,u),i=l}}}if(di)throw t=pa,di=!1,pa=null,t}function H(t,e){var r=e[Sa];r===void 0&&(r=e[Sa]=new Set);var n=t+"__bubble";r.has(n)||(Eh(e,t,2,!1),r.add(n))}function jo(t,e,r){var n=0;e&&(n|=4),Eh(r,t,n,e)}var As="_reactListening"+Math.random().toString(36).slice(2);function Zn(t){if(!t[As]){t[As]=!0,Rd.forEach(function(r){r!=="selectionchange"&&(Vg.has(r)||jo(r,!1,t),jo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[As]||(e[As]=!0,jo("selectionchange",!1,e))}}function Eh(t,e,r,n){switch(lh(e)){case 1:var s=sg;break;case 4:s=ig;break;default:s=bl}r=s.bind(null,e,r,t),s=void 0,!fa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Oo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Gd(function(){var u=i,c=yl(r),h=[];e:{var f=kh.get(t);if(f!==void 0){var m=Sl,y=t;switch(t){case"keypress":if(ti(r)===0)break e;case"keydown":case"keyup":m=_g;break;case"focusin":y="focus",m=_o;break;case"focusout":y="blur",m=_o;break;case"beforeblur":case"afterblur":m=_o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kg;break;case wh:case _h:case xh:m=dg;break;case bh:m=Eg;break;case"scroll":m=og;break;case"wheel":m=Og;break;case"copy":case"cut":case"paste":m=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ru}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,v;p!==null;){v=p;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,g!==null&&(x=Kn(p,g),x!=null&&w.push(es(p,x,v)))),_)break;p=p.return}0<w.length&&(f=new m(f,y,null,r,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==da&&(y=r.relatedTarget||r.fromElement)&&(ur(y)||y[vt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?ur(y):null,y!==null&&(_=br(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Pu,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ru,x="onPointerLeave",g="onPointerEnter",p="pointer"),_=m==null?f:Br(m),v=y==null?f:Br(y),f=new w(x,p+"leave",m,r,c),f.target=_,f.relatedTarget=v,x=null,ur(c)===u&&(w=new w(g,p+"enter",y,r,c),w.target=v,w.relatedTarget=_,x=w),_=x,m&&y)t:{for(w=m,g=y,p=0,v=w;v;v=Er(v))p++;for(v=0,x=g;x;x=Er(x))v++;for(;0<p-v;)w=Er(w),p--;for(;0<v-p;)g=Er(g),v--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Er(w),g=Er(g)}w=null}else w=null;m!==null&&Wu(h,f,m,w,!1),y!==null&&_!==null&&Wu(h,_,y,w,!0)}}e:{if(f=u?Br(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=Ig;else if($u(f))if(ph)k=Ug;else{k=Lg;var E=$g}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Dg);if(k&&(k=k(t,u))){fh(h,k,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&oa(f,"number",f.value)}switch(E=u?Br(u):window,t){case"focusin":($u(E)||E.contentEditable==="true")&&(Ur=E,ya=u,Un=null);break;case"focusout":Un=ya=Ur=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Bu(h,r,c);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":Bu(h,r,c)}var O;if(jl)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Dr?dh(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(ch&&r.locale!=="ko"&&(Dr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Dr&&(O=uh()):(At=c,kl="value"in At?At.value:At.textContent,Dr=!0)),E=gi(u,N),0<E.length&&(N=new Tu(N,t,null,r,c),h.push({event:N,listeners:E}),O?N.data=O:(O=hh(r),O!==null&&(N.data=O)))),(O=Ng?Pg(t,r):Tg(t,r))&&(u=gi(u,"onBeforeInput"),0<u.length&&(c=new Tu("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=O))}Sh(h,e)})}function es(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kn(t,r),i!=null&&n.unshift(es(t,i,s)),i=Kn(t,e),i!=null&&n.push(es(t,i,s))),t=t.return}return n}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Kn(r,i),l!=null&&o.unshift(es(r,l,a))):s||(l=Kn(r,i),l!=null&&o.push(es(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var qg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function Vu(t){return(typeof t=="string"?t:""+t).replace(qg,`
`).replace(Hg,"")}function Is(t,e,r){if(e=Vu(e),Vu(t)!==e&&r)throw Error(S(425))}function vi(){}var _a=null,xa=null;function ba(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,Kg=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(t){return qu.resolve(null).then(t).catch(Jg)}:ka;function Jg(t){setTimeout(function(){throw t})}function Co(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Qn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qn(e)}function Mt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var dn=Math.random().toString(36).slice(2),ot="__reactFiber$"+dn,ts="__reactProps$"+dn,vt="__reactContainer$"+dn,Sa="__reactEvents$"+dn,Qg="__reactListeners$"+dn,Yg="__reactHandles$"+dn;function ur(t){var e=t[ot];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vt]||r[ot]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Hu(t);t!==null;){if(r=t[ot])return r;t=Hu(t)}return e}t=r,r=t.parentNode}return null}function ys(t){return t=t[ot]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function Ki(t){return t[ts]||null}var Ea=[],Fr=-1;function Gt(t){return{current:t}}function K(t){0>Fr||(t.current=Ea[Fr],Ea[Fr]=null,Fr--)}function q(t,e){Fr++,Ea[Fr]=t.current,t.current=e}var Ht={},we=Gt(Ht),Ne=Gt(!1),mr=Ht;function tn(t,e){var r=t.type.contextTypes;if(!r)return Ht;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(t){return t=t.childContextTypes,t!=null}function yi(){K(Ne),K(we)}function Ku(t,e,r){if(we.current!==Ht)throw Error(S(168));q(we,e),q(Ne,r)}function jh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(S(108,$m(t)||"Unknown",s));return X({},r,n)}function wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,mr=we.current,q(we,t),q(Ne,Ne.current),!0}function Gu(t,e,r){var n=t.stateNode;if(!n)throw Error(S(169));r?(t=jh(t,e,mr),n.__reactInternalMemoizedMergedChildContext=t,K(Ne),K(we),q(we,t)):K(Ne),q(Ne,r)}var ht=null,Gi=!1,No=!1;function Oh(t){ht===null?ht=[t]:ht.push(t)}function Xg(t){Gi=!0,Oh(t)}function Jt(){if(!No&&ht!==null){No=!0;var t=0,e=W;try{var r=ht;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ht=null,Gi=!1}catch(s){throw ht!==null&&(ht=ht.slice(t+1)),Xd(wl,Jt),s}finally{W=e,No=!1}}return null}var zr=[],Wr=0,_i=null,xi=0,Fe=[],ze=0,gr=null,ft=1,pt="";function rr(t,e){zr[Wr++]=xi,zr[Wr++]=_i,_i=t,xi=e}function Ch(t,e,r){Fe[ze++]=ft,Fe[ze++]=pt,Fe[ze++]=gr,gr=t;var n=ft;t=pt;var s=32-et(n)-1;n&=~(1<<s),r+=1;var i=32-et(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ft=1<<32-et(e)+s|r<<s|n,pt=i+t}else ft=1<<i|r<<s|n,pt=t}function Cl(t){t.return!==null&&(rr(t,1),Ch(t,1,0))}function Nl(t){for(;t===_i;)_i=zr[--Wr],zr[Wr]=null,xi=zr[--Wr],zr[Wr]=null;for(;t===gr;)gr=Fe[--ze],Fe[ze]=null,pt=Fe[--ze],Fe[ze]=null,ft=Fe[--ze],Fe[ze]=null}var De=null,Le=null,G=!1,Ze=null;function Nh(t,e){var r=We(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ju(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,De=t,Le=Mt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,De=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=gr!==null?{id:ft,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=We(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,De=t,Le=null,!0):!1;default:return!1}}function ja(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oa(t){if(G){var e=Le;if(e){var r=e;if(!Ju(t,e)){if(ja(t))throw Error(S(418));e=Mt(r.nextSibling);var n=De;e&&Ju(t,e)?Nh(n,r):(t.flags=t.flags&-4097|2,G=!1,De=t)}}else{if(ja(t))throw Error(S(418));t.flags=t.flags&-4097|2,G=!1,De=t}}}function Qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;De=t}function $s(t){if(t!==De)return!1;if(!G)return Qu(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ba(t.type,t.memoizedProps)),e&&(e=Le)){if(ja(t))throw Ph(),Error(S(418));for(;e;)Nh(t,e),e=Mt(e.nextSibling)}if(Qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Le=Mt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=De?Mt(t.stateNode.nextSibling):null;return!0}function Ph(){for(var t=Le;t;)t=Mt(t.nextSibling)}function rn(){Le=De=null,G=!1}function Pl(t){Ze===null?Ze=[t]:Ze.push(t)}var Zg=xt.ReactCurrentBatchConfig;function Sn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,t))}return t}function Ls(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yu(t){var e=t._init;return e(t._payload)}function Th(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Wt(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,x){return p===null||p.tag!==6?(p=Lo(v,g.mode,x),p.return=g,p):(p=s(p,v),p.return=g,p)}function l(g,p,v,x){var k=v.type;return k===Lr?c(g,p,v.props.children,x,v.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ct&&Yu(k)===p.type)?(x=s(p,v.props),x.ref=Sn(g,p,v),x.return=g,x):(x=li(v.type,v.key,v.props,null,g.mode,x),x.ref=Sn(g,p,v),x.return=g,x)}function u(g,p,v,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Do(v,g.mode,x),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function c(g,p,v,x,k){return p===null||p.tag!==7?(p=pr(v,g.mode,x,k),p.return=g,p):(p=s(p,v),p.return=g,p)}function h(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lo(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Es:return v=li(p.type,p.key,p.props,null,g.mode,v),v.ref=Sn(g,null,p),v.return=g,v;case $r:return p=Do(p,g.mode,v),p.return=g,p;case Ct:var x=p._init;return h(g,x(p._payload),v)}if(Pn(p)||wn(p))return p=pr(p,g.mode,v,null),p.return=g,p;Ls(g,p)}return null}function f(g,p,v,x){var k=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,p,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Es:return v.key===k?l(g,p,v,x):null;case $r:return v.key===k?u(g,p,v,x):null;case Ct:return k=v._init,f(g,p,k(v._payload),x)}if(Pn(v)||wn(v))return k!==null?null:c(g,p,v,x,null);Ls(g,v)}return null}function m(g,p,v,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(v)||null,a(p,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Es:return g=g.get(x.key===null?v:x.key)||null,l(p,g,x,k);case $r:return g=g.get(x.key===null?v:x.key)||null,u(p,g,x,k);case Ct:var E=x._init;return m(g,p,v,E(x._payload),k)}if(Pn(x)||wn(x))return g=g.get(v)||null,c(p,g,x,k,null);Ls(p,x)}return null}function y(g,p,v,x){for(var k=null,E=null,O=p,N=p=0,U=null;O!==null&&N<v.length;N++){O.index>N?(U=O,O=null):U=O.sibling;var L=f(g,O,v[N],x);if(L===null){O===null&&(O=U);break}t&&O&&L.alternate===null&&e(g,O),p=i(L,p,N),E===null?k=L:E.sibling=L,E=L,O=U}if(N===v.length)return r(g,O),G&&rr(g,N),k;if(O===null){for(;N<v.length;N++)O=h(g,v[N],x),O!==null&&(p=i(O,p,N),E===null?k=O:E.sibling=O,E=O);return G&&rr(g,N),k}for(O=n(g,O);N<v.length;N++)U=m(O,g,N,v[N],x),U!==null&&(t&&U.alternate!==null&&O.delete(U.key===null?N:U.key),p=i(U,p,N),E===null?k=U:E.sibling=U,E=U);return t&&O.forEach(function(Ee){return e(g,Ee)}),G&&rr(g,N),k}function w(g,p,v,x){var k=wn(v);if(typeof k!="function")throw Error(S(150));if(v=k.call(v),v==null)throw Error(S(151));for(var E=k=null,O=p,N=p=0,U=null,L=v.next();O!==null&&!L.done;N++,L=v.next()){O.index>N?(U=O,O=null):U=O.sibling;var Ee=f(g,O,L.value,x);if(Ee===null){O===null&&(O=U);break}t&&O&&Ee.alternate===null&&e(g,O),p=i(Ee,p,N),E===null?k=Ee:E.sibling=Ee,E=Ee,O=U}if(L.done)return r(g,O),G&&rr(g,N),k;if(O===null){for(;!L.done;N++,L=v.next())L=h(g,L.value,x),L!==null&&(p=i(L,p,N),E===null?k=L:E.sibling=L,E=L);return G&&rr(g,N),k}for(O=n(g,O);!L.done;N++,L=v.next())L=m(O,g,N,L.value,x),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?N:L.key),p=i(L,p,N),E===null?k=L:E.sibling=L,E=L);return t&&O.forEach(function(bt){return e(g,bt)}),G&&rr(g,N),k}function _(g,p,v,x){if(typeof v=="object"&&v!==null&&v.type===Lr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Es:e:{for(var k=v.key,E=p;E!==null;){if(E.key===k){if(k=v.type,k===Lr){if(E.tag===7){r(g,E.sibling),p=s(E,v.props.children),p.return=g,g=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ct&&Yu(k)===E.type){r(g,E.sibling),p=s(E,v.props),p.ref=Sn(g,E,v),p.return=g,g=p;break e}r(g,E);break}else e(g,E);E=E.sibling}v.type===Lr?(p=pr(v.props.children,g.mode,x,v.key),p.return=g,g=p):(x=li(v.type,v.key,v.props,null,g.mode,x),x.ref=Sn(g,p,v),x.return=g,g=x)}return o(g);case $r:e:{for(E=v.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Do(v,g.mode,x),p.return=g,g=p}return o(g);case Ct:return E=v._init,_(g,p,E(v._payload),x)}if(Pn(v))return y(g,p,v,x);if(wn(v))return w(g,p,v,x);Ls(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=Lo(v,g.mode,x),p.return=g,g=p),o(g)):r(g,p)}return _}var nn=Th(!0),Rh=Th(!1),bi=Gt(null),ki=null,Vr=null,Tl=null;function Rl(){Tl=Vr=ki=null}function Al(t){var e=bi.current;K(bi),t._currentValue=e}function Ca(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yr(t,e){ki=t,Tl=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function qe(t){var e=t._currentValue;if(Tl!==t)if(t={context:t,memoizedValue:e,next:null},Vr===null){if(ki===null)throw Error(S(308));Vr=t,ki.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return e}var cr=null;function Il(t){cr===null?cr=[t]:cr.push(t)}function Ah(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Il(e)):(r.next=s.next,s.next=r),e.interleaved=r,yt(t,n)}function yt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Nt=!1;function $l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ih(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,M&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,yt(t,r)}return s=n.interleaved,s===null?(e.next=e,Il(n)):(e.next=s.next,s.next=e),n.interleaved=e,yt(t,r)}function ri(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_l(t,r)}}function Xu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Si(t,e,r,n){var s=t.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=X({},h,f);break e;case 2:Nt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yr|=o,t.lanes=o,t.memoizedState=h}}function Zu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var ws={},lt=Gt(ws),rs=Gt(ws),ns=Gt(ws);function dr(t){if(t===ws)throw Error(S(174));return t}function Ll(t,e){switch(q(ns,e),q(rs,t),q(lt,ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:la(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=la(e,t)}K(lt),q(lt,e)}function sn(){K(lt),K(rs),K(ns)}function $h(t){dr(ns.current);var e=dr(lt.current),r=la(e,t.type);e!==r&&(q(rs,t),q(lt,r))}function Dl(t){rs.current===t&&(K(lt),K(rs))}var Q=Gt(0);function Ei(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Po=[];function Ul(){for(var t=0;t<Po.length;t++)Po[t]._workInProgressVersionPrimary=null;Po.length=0}var ni=xt.ReactCurrentDispatcher,To=xt.ReactCurrentBatchConfig,vr=0,Y=null,ae=null,ce=null,ji=!1,Mn=!1,ss=0,ev=0;function ge(){throw Error(S(321))}function Ml(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rt(t[r],e[r]))return!1;return!0}function Bl(t,e,r,n,s,i){if(vr=i,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ni.current=t===null||t.memoizedState===null?sv:iv,t=r(n,s),Mn){i=0;do{if(Mn=!1,ss=0,25<=i)throw Error(S(301));i+=1,ce=ae=null,e.updateQueue=null,ni.current=ov,t=r(n,s)}while(Mn)}if(ni.current=Oi,e=ae!==null&&ae.next!==null,vr=0,ce=ae=Y=null,ji=!1,e)throw Error(S(300));return t}function Fl(){var t=ss!==0;return ss=0,t}function it(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Y.memoizedState=ce=t:ce=ce.next=t,ce}function He(){if(ae===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=ce===null?Y.memoizedState:ce.next;if(e!==null)ce=e,ae=t;else{if(t===null)throw Error(S(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?Y.memoizedState=ce=t:ce=ce.next=t}return ce}function is(t,e){return typeof e=="function"?e(t):e}function Ro(t){var e=He(),r=e.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=t;var n=ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((vr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Y.lanes|=c,yr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,rt(n,e.memoizedState)||(Ce=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Y.lanes|=i,yr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ao(t){var e=He(),r=e.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rt(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Lh(){}function Dh(t,e){var r=Y,n=He(),s=e(),i=!rt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ce=!0),n=n.queue,zl(Bh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ce!==null&&ce.memoizedState.tag&1){if(r.flags|=2048,os(9,Mh.bind(null,r,n,s,e),void 0,null),de===null)throw Error(S(349));vr&30||Uh(r,e,s)}return s}function Uh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Mh(t,e,r,n){e.value=r,e.getSnapshot=n,Fh(e)&&zh(t)}function Bh(t,e,r){return r(function(){Fh(e)&&zh(t)})}function Fh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rt(t,r)}catch{return!0}}function zh(t){var e=yt(t,1);e!==null&&tt(e,t,1,-1)}function ec(t){var e=it();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},e.queue=t,t=t.dispatch=nv.bind(null,Y,t),[e.memoizedState,t]}function os(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Wh(){return He().memoizedState}function si(t,e,r,n){var s=it();Y.flags|=t,s.memoizedState=os(1|e,r,void 0,n===void 0?null:n)}function Ji(t,e,r,n){var s=He();n=n===void 0?null:n;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,n!==null&&Ml(n,o.deps)){s.memoizedState=os(e,r,i,n);return}}Y.flags|=t,s.memoizedState=os(1|e,r,i,n)}function tc(t,e){return si(8390656,8,t,e)}function zl(t,e){return Ji(2048,8,t,e)}function Vh(t,e){return Ji(4,2,t,e)}function qh(t,e){return Ji(4,4,t,e)}function Hh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kh(t,e,r){return r=r!=null?r.concat([t]):null,Ji(4,4,Hh.bind(null,e,t),r)}function Wl(){}function Gh(t,e){var r=He();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ml(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Jh(t,e){var r=He();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ml(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Qh(t,e,r){return vr&21?(rt(r,e)||(r=th(),Y.lanes|=r,yr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=r)}function tv(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=To.transition;To.transition={};try{t(!1),e()}finally{W=r,To.transition=n}}function Yh(){return He().memoizedState}function rv(t,e,r){var n=zt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xh(t))Zh(e,r);else if(r=Ah(t,e,r,n),r!==null){var s=be();tt(r,t,n,s),ef(r,e,n)}}function nv(t,e,r){var n=zt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xh(t))Zh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,rt(a,o)){var l=e.interleaved;l===null?(s.next=s,Il(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ah(t,e,s,n),r!==null&&(s=be(),tt(r,t,n,s),ef(r,e,n))}}function Xh(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Zh(t,e){Mn=ji=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ef(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_l(t,r)}}var Oi={readContext:qe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},sv={readContext:qe,useCallback:function(t,e){return it().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:tc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,si(4194308,4,Hh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return si(4194308,4,t,e)},useInsertionEffect:function(t,e){return si(4,2,t,e)},useMemo:function(t,e){var r=it();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=it();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=rv.bind(null,Y,t),[n.memoizedState,t]},useRef:function(t){var e=it();return t={current:t},e.memoizedState=t},useState:ec,useDebugValue:Wl,useDeferredValue:function(t){return it().memoizedState=t},useTransition:function(){var t=ec(!1),e=t[0];return t=tv.bind(null,t[1]),it().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Y,s=it();if(G){if(r===void 0)throw Error(S(407));r=r()}else{if(r=e(),de===null)throw Error(S(349));vr&30||Uh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,tc(Bh.bind(null,n,i,t),[t]),n.flags|=2048,os(9,Mh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=it(),e=de.identifierPrefix;if(G){var r=pt,n=ft;r=(n&~(1<<32-et(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ss++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ev++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iv={readContext:qe,useCallback:Gh,useContext:qe,useEffect:zl,useImperativeHandle:Kh,useInsertionEffect:Vh,useLayoutEffect:qh,useMemo:Jh,useReducer:Ro,useRef:Wh,useState:function(){return Ro(is)},useDebugValue:Wl,useDeferredValue:function(t){var e=He();return Qh(e,ae.memoizedState,t)},useTransition:function(){var t=Ro(is)[0],e=He().memoizedState;return[t,e]},useMutableSource:Lh,useSyncExternalStore:Dh,useId:Yh,unstable_isNewReconciler:!1},ov={readContext:qe,useCallback:Gh,useContext:qe,useEffect:zl,useImperativeHandle:Kh,useInsertionEffect:Vh,useLayoutEffect:qh,useMemo:Jh,useReducer:Ao,useRef:Wh,useState:function(){return Ao(is)},useDebugValue:Wl,useDeferredValue:function(t){var e=He();return ae===null?e.memoizedState=t:Qh(e,ae.memoizedState,t)},useTransition:function(){var t=Ao(is)[0],e=He().memoizedState;return[t,e]},useMutableSource:Lh,useSyncExternalStore:Dh,useId:Yh,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Na(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:X({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qi={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=be(),s=zt(t),i=mt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Bt(t,i,s),e!==null&&(tt(e,t,s,n),ri(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=be(),s=zt(t),i=mt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Bt(t,i,s),e!==null&&(tt(e,t,s,n),ri(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=be(),n=zt(t),s=mt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Bt(t,s,n),e!==null&&(tt(e,t,n,r),ri(e,t,n))}};function rc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xn(r,n)||!Xn(s,i):!0}function tf(t,e,r){var n=!1,s=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Pe(e)?mr:we.current,n=e.contextTypes,i=(n=n!=null)?tn(t,s):Ht),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Qi.enqueueReplaceState(e,e.state,null)}function Pa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$l(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Pe(e)?mr:we.current,s.context=tn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Na(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qi.enqueueReplaceState(s,s.state,null),Si(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function on(t,e){try{var r="",n=e;do r+=Im(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Io(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ta(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var av=typeof WeakMap=="function"?WeakMap:Map;function rf(t,e,r){r=mt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ni||(Ni=!0,Fa=n),Ta(t,e)},r}function nf(t,e,r){r=mt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ta(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ta(t,e),typeof n!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function sc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new av;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=xv.bind(null,t,e,r),e.then(t,t))}function ic(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mt(-1,1),e.tag=2,Bt(r,e,1))),r.lanes|=1),t)}var lv=xt.ReactCurrentOwner,Ce=!1;function _e(t,e,r,n){e.child=t===null?Rh(e,null,r,n):nn(e,t.child,r,n)}function ac(t,e,r,n,s){r=r.render;var i=e.ref;return Yr(e,s),n=Bl(t,e,r,n,i,s),r=Fl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wt(t,e,s)):(G&&r&&Cl(e),e.flags|=1,_e(t,e,n,s),e.child)}function lc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Yl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,sf(t,e,i,n,s)):(t=li(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xn,r(o,n)&&t.ref===e.ref)return wt(t,e,s)}return e.flags|=1,t=Wt(i,n),t.ref=e.ref,t.return=e,e.child=t}function sf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Xn(i,n)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,wt(t,e,s)}return Ra(t,e,r,n,s)}function of(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Hr,Ae),Ae|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Hr,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(Hr,Ae),Ae|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,q(Hr,Ae),Ae|=n;return _e(t,e,s,r),e.child}function af(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ra(t,e,r,n,s){var i=Pe(r)?mr:we.current;return i=tn(e,i),Yr(e,s),r=Bl(t,e,r,n,i,s),n=Fl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wt(t,e,s)):(G&&n&&Cl(e),e.flags|=1,_e(t,e,r,s),e.child)}function uc(t,e,r,n,s){if(Pe(r)){var i=!0;wi(e)}else i=!1;if(Yr(e,s),e.stateNode===null)ii(t,e),tf(e,r,n),Pa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Pe(r)?mr:we.current,u=tn(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&nc(e,o,n,u),Nt=!1;var f=e.memoizedState;o.state=f,Si(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Ne.current||Nt?(typeof c=="function"&&(Na(e,r,c,n),l=e.memoizedState),(a=Nt||rc(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ih(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Je(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=qe(l):(l=Pe(r)?mr:we.current,l=tn(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&nc(e,o,n,l),Nt=!1,f=e.memoizedState,o.state=f,Si(e,n,o,s);var y=e.memoizedState;a!==h||f!==y||Ne.current||Nt?(typeof m=="function"&&(Na(e,r,m,n),y=e.memoizedState),(u=Nt||rc(e,r,u,n,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Aa(t,e,r,n,i,s)}function Aa(t,e,r,n,s,i){af(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Gu(e,r,!1),wt(t,e,i);n=e.stateNode,lv.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=nn(e,t.child,null,i),e.child=nn(e,null,a,i)):_e(t,e,a,i),e.memoizedState=n.state,s&&Gu(e,r,!0),e.child}function lf(t){var e=t.stateNode;e.pendingContext?Ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ku(t,e.context,!1),Ll(t,e.containerInfo)}function cc(t,e,r,n,s){return rn(),Pl(s),e.flags|=256,_e(t,e,r,n),e.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function $a(t){return{baseLanes:t,cachePool:null,transitions:null}}function uf(t,e,r){var n=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(Q,s&1),t===null)return Oa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zi(o,n,0,null),t=pr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$a(r),e.memoizedState=Ia,t):Vl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uv(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Wt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wt(a,i):(i=pr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?$a(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ia,n}return i=t.child,t=i.sibling,n=Wt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Vl(t,e){return e=Zi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ds(t,e,r,n){return n!==null&&Pl(n),nn(e,t.child,null,r),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uv(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Io(Error(S(422))),Ds(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Zi({mode:"visible",children:n.children},s,0,null),i=pr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&nn(e,t.child,null,o),e.child.memoizedState=$a(o),e.memoizedState=Ia,i);if(!(e.mode&1))return Ds(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(S(419)),n=Io(i,n,void 0),Ds(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ce||a){if(n=de,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yt(t,s),tt(n,t,s,-1))}return Ql(),n=Io(Error(S(421))),Ds(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Le=Mt(s.nextSibling),De=e,G=!0,Ze=null,t!==null&&(Fe[ze++]=ft,Fe[ze++]=pt,Fe[ze++]=gr,ft=t.id,pt=t.overflow,gr=e),e=Vl(e,n.children),e.flags|=4096,e)}function dc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ca(t.return,e,r)}function $o(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function cf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(_e(t,e,n.children,r),n=Q.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dc(t,r,e);else if(t.tag===19)dc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(Q,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ei(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),$o(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ei(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}$o(e,!0,r,null,i);break;case"together":$o(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ii(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),yr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,r=Wt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function cv(t,e,r){switch(e.tag){case 3:lf(e),rn();break;case 5:$h(e);break;case 1:Pe(e.type)&&wi(e);break;case 4:Ll(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;q(bi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(Q,Q.current&1),e.flags|=128,null):r&e.child.childLanes?uf(t,e,r):(q(Q,Q.current&1),t=wt(t,e,r),t!==null?t.sibling:null);q(Q,Q.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return cf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Q,Q.current),n)break;return null;case 22:case 23:return e.lanes=0,of(t,e,r)}return wt(t,e,r)}var df,La,hf,ff;df=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};La=function(){};hf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,dr(lt.current);var i=null;switch(r){case"input":s=sa(t,s),n=sa(t,n),i=[];break;case"select":s=X({},s,{value:void 0}),n=X({},n,{value:void 0}),i=[];break;case"textarea":s=aa(t,s),n=aa(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vi)}ua(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ff=function(t,e,r,n){r!==n&&(e.flags|=4)};function En(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dv(t,e,r){var n=e.pendingProps;switch(Nl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Pe(e.type)&&yi(),ve(e),null;case 3:return n=e.stateNode,sn(),K(Ne),K(we),Ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ze!==null&&(Va(Ze),Ze=null))),La(t,e),ve(e),null;case 5:Dl(e);var s=dr(ns.current);if(r=e.type,t!==null&&e.stateNode!=null)hf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(S(166));return ve(e),null}if(t=dr(lt.current),$s(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ot]=e,n[ts]=i,t=(e.mode&1)!==0,r){case"dialog":H("cancel",n),H("close",n);break;case"iframe":case"object":case"embed":H("load",n);break;case"video":case"audio":for(s=0;s<Rn.length;s++)H(Rn[s],n);break;case"source":H("error",n);break;case"img":case"image":case"link":H("error",n),H("load",n);break;case"details":H("toggle",n);break;case"input":_u(n,i),H("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},H("invalid",n);break;case"textarea":bu(n,i),H("invalid",n)}ua(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,a,t),s=["children",""+a]):qn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",n)}switch(r){case"input":js(n),xu(n,i,!0);break;case"textarea":js(n),ku(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=vi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ot]=e,t[ts]=n,df(t,e,!1,!1),e.stateNode=t;e:{switch(o=ca(r,n),r){case"dialog":H("cancel",t),H("close",t),s=n;break;case"iframe":case"object":case"embed":H("load",t),s=n;break;case"video":case"audio":for(s=0;s<Rn.length;s++)H(Rn[s],t);s=n;break;case"source":H("error",t),s=n;break;case"img":case"image":case"link":H("error",t),H("load",t),s=n;break;case"details":H("toggle",t),s=n;break;case"input":_u(t,n),s=sa(t,n),H("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=X({},n,{value:void 0}),H("invalid",t);break;case"textarea":bu(t,n),s=aa(t,n),H("invalid",t);break;default:s=n}ua(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Wd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fd(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hn(t,l):typeof l=="number"&&Hn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",t):l!=null&&pl(t,i,l,o))}switch(r){case"input":js(t),xu(t,n,!1);break;case"textarea":js(t),ku(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Kr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Kr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)ff(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(S(166));if(r=dr(ns.current),dr(lt.current),$s(e)){if(n=e.stateNode,r=e.memoizedProps,n[ot]=e,(i=n.nodeValue!==r)&&(t=De,t!==null))switch(t.tag){case 3:Is(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=e,e.stateNode=n}return ve(e),null;case 13:if(K(Q),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Le!==null&&e.mode&1&&!(e.flags&128))Ph(),rn(),e.flags|=98560,i=!1;else if(i=$s(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[ot]=e}else rn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Ze!==null&&(Va(Ze),Ze=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?le===0&&(le=3):Ql())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return sn(),La(t,e),t===null&&Zn(e.stateNode.containerInfo),ve(e),null;case 10:return Al(e.type._context),ve(e),null;case 17:return Pe(e.type)&&yi(),ve(e),null;case 19:if(K(Q),i=e.memoizedState,i===null)return ve(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)En(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ei(t),o!==null){for(e.flags|=128,En(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return q(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>an&&(e.flags|=128,n=!0,En(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ei(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),En(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return ve(e),null}else 2*re()-i.renderingStartTime>an&&r!==1073741824&&(e.flags|=128,n=!0,En(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,r=Q.current,q(Q,n?r&1|2:r&1),e):(ve(e),null);case 22:case 23:return Jl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ae&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function hv(t,e){switch(Nl(e),e.tag){case 1:return Pe(e.type)&&yi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sn(),K(Ne),K(we),Ul(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dl(e),null;case 13:if(K(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));rn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Q),null;case 4:return sn(),null;case 10:return Al(e.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var Us=!1,ye=!1,fv=typeof WeakSet=="function"?WeakSet:Set,C=null;function qr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(t,e,n)}else r.current=null}function Da(t,e,r){try{r()}catch(n){Z(t,e,n)}}var hc=!1;function pv(t,e){if(_a=pi,t=vh(),Ol(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++c===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xa={focusedElem:t,selectionRange:r},pi=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Je(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(x){Z(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=hc,hc=!1,y}function Bn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Da(e,r,i)}s=s.next}while(s!==n)}}function Yi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ua(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function pf(t){var e=t.alternate;e!==null&&(t.alternate=null,pf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[ts],delete e[Sa],delete e[Qg],delete e[Yg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mf(t){return t.tag===5||t.tag===3||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ma(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vi));else if(n!==4&&(t=t.child,t!==null))for(Ma(t,e,r),t=t.sibling;t!==null;)Ma(t,e,r),t=t.sibling}function Ba(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ba(t,e,r),t=t.sibling;t!==null;)Ba(t,e,r),t=t.sibling}var fe=null,Ye=!1;function St(t,e,r){for(r=r.child;r!==null;)gf(t,e,r),r=r.sibling}function gf(t,e,r){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Wi,r)}catch{}switch(r.tag){case 5:ye||qr(r,e);case 6:var n=fe,s=Ye;fe=null,St(t,e,r),fe=n,Ye=s,fe!==null&&(Ye?(t=fe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Ye?(t=fe,r=r.stateNode,t.nodeType===8?Co(t.parentNode,r):t.nodeType===1&&Co(t,r),Qn(t)):Co(fe,r.stateNode));break;case 4:n=fe,s=Ye,fe=r.stateNode.containerInfo,Ye=!0,St(t,e,r),fe=n,Ye=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Da(r,e,o),s=s.next}while(s!==n)}St(t,e,r);break;case 1:if(!ye&&(qr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Z(r,e,a)}St(t,e,r);break;case 21:St(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,St(t,e,r),ye=n):St(t,e,r);break;default:St(t,e,r)}}function pc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fv),e.forEach(function(n){var s=kv.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fe=a.stateNode,Ye=!1;break e;case 3:fe=a.stateNode.containerInfo,Ye=!0;break e;case 4:fe=a.stateNode.containerInfo,Ye=!0;break e}a=a.return}if(fe===null)throw Error(S(160));gf(i,o,s),fe=null,Ye=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Z(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vf(e,t),e=e.sibling}function vf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),st(t),n&4){try{Bn(3,t,t.return),Yi(3,t)}catch(w){Z(t,t.return,w)}try{Bn(5,t,t.return)}catch(w){Z(t,t.return,w)}}break;case 1:Ke(e,t),st(t),n&512&&r!==null&&qr(r,r.return);break;case 5:if(Ke(e,t),st(t),n&512&&r!==null&&qr(r,r.return),t.flags&32){var s=t.stateNode;try{Hn(s,"")}catch(w){Z(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ud(s,i),ca(a,o);var u=ca(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Wd(s,h):c==="dangerouslySetInnerHTML"?Fd(s,h):c==="children"?Hn(s,h):pl(s,c,h,u)}switch(a){case"input":ia(s,i);break;case"textarea":Md(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kr(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kr(s,!!i.multiple,i.defaultValue,!0):Kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ts]=i}catch(w){Z(t,t.return,w)}}break;case 6:if(Ke(e,t),st(t),n&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Z(t,t.return,w)}}break;case 3:if(Ke(e,t),st(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qn(e.containerInfo)}catch(w){Z(t,t.return,w)}break;case 4:Ke(e,t),st(t);break;case 13:Ke(e,t),st(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kl=re())),n&4&&pc(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(u=ye)||c,Ke(e,t),ye=u):Ke(e,t),st(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(C=t,c=t.child;c!==null;){for(h=C=c;C!==null;){switch(f=C,m=f.child,f.tag){case 0:case 11:case 14:case 15:Bn(4,f,f.return);break;case 1:qr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Z(n,r,w)}}break;case 5:qr(f,f.return);break;case 22:if(f.memoizedState!==null){gc(h);continue}}m!==null?(m.return=f,C=m):gc(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zd("display",o))}catch(w){Z(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Z(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(e,t),st(t),n&4&&pc(t);break;case 21:break;default:Ke(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(mf(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hn(s,""),n.flags&=-33);var i=fc(t);Ba(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=fc(t);Ma(t,a,o);break;default:throw Error(S(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mv(t,e,r){C=t,yf(t)}function yf(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Us;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Us;var u=ye;if(Us=o,(ye=l)&&!u)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?vc(s):l!==null?(l.return=o,C=l):vc(s);for(;i!==null;)C=i,yf(i),i=i.sibling;C=s,Us=a,ye=u}mc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):mc(t)}}function mc(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||Yi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Je(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Qn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ye||e.flags&512&&Ua(e)}catch(f){Z(e,e.return,f)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function gc(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function vc(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yi(4,e)}catch(l){Z(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Z(e,s,l)}}var i=e.return;try{Ua(e)}catch(l){Z(e,i,l)}break;case 5:var o=e.return;try{Ua(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var gv=Math.ceil,Ci=xt.ReactCurrentDispatcher,ql=xt.ReactCurrentOwner,Ve=xt.ReactCurrentBatchConfig,M=0,de=null,ie=null,pe=0,Ae=0,Hr=Gt(0),le=0,as=null,yr=0,Xi=0,Hl=0,Fn=null,Oe=null,Kl=0,an=1/0,ct=null,Ni=!1,Fa=null,Ft=null,Ms=!1,It=null,Pi=0,zn=0,za=null,oi=-1,ai=0;function be(){return M&6?re():oi!==-1?oi:oi=re()}function zt(t){return t.mode&1?M&2&&pe!==0?pe&-pe:Zg.transition!==null?(ai===0&&(ai=th()),ai):(t=W,t!==0||(t=window.event,t=t===void 0?16:lh(t.type)),t):1}function tt(t,e,r,n){if(50<zn)throw zn=0,za=null,Error(S(185));gs(t,r,n),(!(M&2)||t!==de)&&(t===de&&(!(M&2)&&(Xi|=r),le===4&&Tt(t,pe)),Te(t,n),r===1&&M===0&&!(e.mode&1)&&(an=re()+500,Gi&&Jt()))}function Te(t,e){var r=t.callbackNode;Zm(t,e);var n=fi(t,t===de?pe:0);if(n===0)r!==null&&ju(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ju(r),e===1)t.tag===0?Xg(yc.bind(null,t)):Oh(yc.bind(null,t)),Gg(function(){!(M&6)&&Jt()}),r=null;else{switch(rh(n)){case 1:r=wl;break;case 4:r=Zd;break;case 16:r=hi;break;case 536870912:r=eh;break;default:r=hi}r=jf(r,wf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function wf(t,e){if(oi=-1,ai=0,M&6)throw Error(S(327));var r=t.callbackNode;if(Xr()&&t.callbackNode!==r)return null;var n=fi(t,t===de?pe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ti(t,n);else{e=n;var s=M;M|=2;var i=xf();(de!==t||pe!==e)&&(ct=null,an=re()+500,fr(t,e));do try{wv();break}catch(a){_f(t,a)}while(!0);Rl(),Ci.current=i,M=s,ie!==null?e=0:(de=null,pe=0,e=le)}if(e!==0){if(e===2&&(s=ma(t),s!==0&&(n=s,e=Wa(t,s))),e===1)throw r=as,fr(t,0),Tt(t,n),Te(t,re()),r;if(e===6)Tt(t,n);else{if(s=t.current.alternate,!(n&30)&&!vv(s)&&(e=Ti(t,n),e===2&&(i=ma(t),i!==0&&(n=i,e=Wa(t,i))),e===1))throw r=as,fr(t,0),Tt(t,n),Te(t,re()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(S(345));case 2:nr(t,Oe,ct);break;case 3:if(Tt(t,n),(n&130023424)===n&&(e=Kl+500-re(),10<e)){if(fi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){be(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ka(nr.bind(null,t,Oe,ct),e);break}nr(t,Oe,ct);break;case 4:if(Tt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-et(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gv(n/1960))-n,10<n){t.timeoutHandle=ka(nr.bind(null,t,Oe,ct),n);break}nr(t,Oe,ct);break;case 5:nr(t,Oe,ct);break;default:throw Error(S(329))}}}return Te(t,re()),t.callbackNode===r?wf.bind(null,t):null}function Wa(t,e){var r=Fn;return t.current.memoizedState.isDehydrated&&(fr(t,e).flags|=256),t=Ti(t,e),t!==2&&(e=Oe,Oe=r,e!==null&&Va(e)),t}function Va(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function vv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~Hl,e&=~Xi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-et(e),n=1<<r;t[r]=-1,e&=~n}}function yc(t){if(M&6)throw Error(S(327));Xr();var e=fi(t,0);if(!(e&1))return Te(t,re()),null;var r=Ti(t,e);if(t.tag!==0&&r===2){var n=ma(t);n!==0&&(e=n,r=Wa(t,n))}if(r===1)throw r=as,fr(t,0),Tt(t,e),Te(t,re()),r;if(r===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nr(t,Oe,ct),Te(t,re()),null}function Gl(t,e){var r=M;M|=1;try{return t(e)}finally{M=r,M===0&&(an=re()+500,Gi&&Jt())}}function wr(t){It!==null&&It.tag===0&&!(M&6)&&Xr();var e=M;M|=1;var r=Ve.transition,n=W;try{if(Ve.transition=null,W=1,t)return t()}finally{W=n,Ve.transition=r,M=e,!(M&6)&&Jt()}}function Jl(){Ae=Hr.current,K(Hr)}function fr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Kg(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(Nl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yi();break;case 3:sn(),K(Ne),K(we),Ul();break;case 5:Dl(n);break;case 4:sn();break;case 13:K(Q);break;case 19:K(Q);break;case 10:Al(n.type._context);break;case 22:case 23:Jl()}r=r.return}if(de=t,ie=t=Wt(t.current,null),pe=Ae=e,le=0,as=null,Hl=Xi=yr=0,Oe=Fn=null,cr!==null){for(e=0;e<cr.length;e++)if(r=cr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}cr=null}return t}function _f(t,e){do{var r=ie;try{if(Rl(),ni.current=Oi,ji){for(var n=Y.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ji=!1}if(vr=0,ce=ae=Y=null,Mn=!1,ss=0,ql.current=null,r===null||r.return===null){le=1,as=e,ie=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=pe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ic(o);if(m!==null){m.flags&=-257,oc(m,o,a,i,e),m.mode&1&&sc(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){sc(i,u,e),Ql();break e}l=Error(S(426))}}else if(G&&a.mode&1){var _=ic(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),oc(_,o,a,i,e),Pl(on(l,a));break e}}i=l=on(l,a),le!==4&&(le=2),Fn===null?Fn=[i]:Fn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=rf(i,l,e);Xu(i,g);break e;case 1:a=l;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ft===null||!Ft.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=nf(i,a,e);Xu(i,x);break e}}i=i.return}while(i!==null)}kf(r)}catch(k){e=k,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function xf(){var t=Ci.current;return Ci.current=Oi,t===null?Oi:t}function Ql(){(le===0||le===3||le===2)&&(le=4),de===null||!(yr&268435455)&&!(Xi&268435455)||Tt(de,pe)}function Ti(t,e){var r=M;M|=2;var n=xf();(de!==t||pe!==e)&&(ct=null,fr(t,e));do try{yv();break}catch(s){_f(t,s)}while(!0);if(Rl(),M=r,Ci.current=n,ie!==null)throw Error(S(261));return de=null,pe=0,le}function yv(){for(;ie!==null;)bf(ie)}function wv(){for(;ie!==null&&!Vm();)bf(ie)}function bf(t){var e=Ef(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?kf(t):ie=e,ql.current=null}function kf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=hv(r,e),r!==null){r.flags&=32767,ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,ie=null;return}}else if(r=dv(r,e,Ae),r!==null){ie=r;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);le===0&&(le=5)}function nr(t,e,r){var n=W,s=Ve.transition;try{Ve.transition=null,W=1,_v(t,e,r,n)}finally{Ve.transition=s,W=n}return null}function _v(t,e,r,n){do Xr();while(It!==null);if(M&6)throw Error(S(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(eg(t,i),t===de&&(ie=de=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ms||(Ms=!0,jf(hi,function(){return Xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var o=W;W=1;var a=M;M|=4,ql.current=null,pv(t,r),vf(r,t),Bg(xa),pi=!!_a,xa=_a=null,t.current=r,mv(r),qm(),M=a,W=o,Ve.transition=i}else t.current=r;if(Ms&&(Ms=!1,It=t,Pi=s),i=t.pendingLanes,i===0&&(Ft=null),Gm(r.stateNode),Te(t,re()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ni)throw Ni=!1,t=Fa,Fa=null,t;return Pi&1&&t.tag!==0&&Xr(),i=t.pendingLanes,i&1?t===za?zn++:(zn=0,za=t):zn=0,Jt(),null}function Xr(){if(It!==null){var t=rh(Pi),e=Ve.transition,r=W;try{if(Ve.transition=null,W=16>t?16:t,It===null)var n=!1;else{if(t=It,It=null,Pi=0,M&6)throw Error(S(331));var s=M;for(M|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(C=u;C!==null;){var c=C;switch(c.tag){case 0:case 11:case 15:Bn(8,c,i)}var h=c.child;if(h!==null)h.return=c,C=h;else for(;C!==null;){c=C;var f=c.sibling,m=c.return;if(pf(c),c===u){C=null;break}if(f!==null){f.return=m,C=f;break}C=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var p=t.current;for(C=p;C!==null;){o=C;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,C=v;else e:for(o=p;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yi(9,a)}}catch(k){Z(a,a.return,k)}if(a===o){C=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,C=x;break e}C=a.return}}if(M=s,Jt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Wi,t)}catch{}n=!0}return n}finally{W=r,Ve.transition=e}}return!1}function wc(t,e,r){e=on(r,e),e=rf(t,e,1),t=Bt(t,e,1),e=be(),t!==null&&(gs(t,1,e),Te(t,e))}function Z(t,e,r){if(t.tag===3)wc(t,t,r);else for(;e!==null;){if(e.tag===3){wc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ft===null||!Ft.has(n))){t=on(r,t),t=nf(e,t,1),e=Bt(e,t,1),t=be(),e!==null&&(gs(e,1,t),Te(e,t));break}}e=e.return}}function xv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=be(),t.pingedLanes|=t.suspendedLanes&r,de===t&&(pe&r)===r&&(le===4||le===3&&(pe&130023424)===pe&&500>re()-Kl?fr(t,0):Hl|=r),Te(t,e)}function Sf(t,e){e===0&&(t.mode&1?(e=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):e=1);var r=be();t=yt(t,e),t!==null&&(gs(t,e,r),Te(t,r))}function bv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Sf(t,r)}function kv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(e),Sf(t,r)}var Ef;Ef=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Ce=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ce=!1,cv(t,e,r);Ce=!!(t.flags&131072)}else Ce=!1,G&&e.flags&1048576&&Ch(e,xi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ii(t,e),t=e.pendingProps;var s=tn(e,we.current);Yr(e,r),s=Bl(null,e,n,t,s,r);var i=Fl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(n)?(i=!0,wi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$l(e),s.updater=Qi,e.stateNode=s,s._reactInternals=e,Pa(e,n,t,r),e=Aa(null,e,n,!0,i,r)):(e.tag=0,G&&i&&Cl(e),_e(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ii(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Ev(n),t=Je(n,t),s){case 0:e=Ra(null,e,n,t,r);break e;case 1:e=uc(null,e,n,t,r);break e;case 11:e=ac(null,e,n,t,r);break e;case 14:e=lc(null,e,n,Je(n.type,t),r);break e}throw Error(S(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),Ra(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),uc(t,e,n,s,r);case 3:e:{if(lf(e),t===null)throw Error(S(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Ih(t,e),Si(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=on(Error(S(423)),e),e=cc(t,e,n,r,s);break e}else if(n!==s){s=on(Error(S(424)),e),e=cc(t,e,n,r,s);break e}else for(Le=Mt(e.stateNode.containerInfo.firstChild),De=e,G=!0,Ze=null,r=Rh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rn(),n===s){e=wt(t,e,r);break e}_e(t,e,n,r)}e=e.child}return e;case 5:return $h(e),t===null&&Oa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ba(n,s)?o=null:i!==null&&ba(n,i)&&(e.flags|=32),af(t,e),_e(t,e,o,r),e.child;case 6:return t===null&&Oa(e),null;case 13:return uf(t,e,r);case 4:return Ll(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=nn(e,null,n,r):_e(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),ac(t,e,n,s,r);case 7:return _e(t,e,e.pendingProps,r),e.child;case 8:return _e(t,e,e.pendingProps.children,r),e.child;case 12:return _e(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(bi,n._currentValue),n._currentValue=o,i!==null)if(rt(i.value,o)){if(i.children===s.children&&!Ne.current){e=wt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=mt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ca(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ca(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Yr(e,r),s=qe(s),n=n(s),e.flags|=1,_e(t,e,n,r),e.child;case 14:return n=e.type,s=Je(n,e.pendingProps),s=Je(n.type,s),lc(t,e,n,s,r);case 15:return sf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),ii(t,e),e.tag=1,Pe(n)?(t=!0,wi(e)):t=!1,Yr(e,r),tf(e,n,s),Pa(e,n,s,r),Aa(null,e,n,!0,t,r);case 19:return cf(t,e,r);case 22:return of(t,e,r)}throw Error(S(156,e.tag))};function jf(t,e){return Xd(t,e)}function Sv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,r,n){return new Sv(t,e,r,n)}function Yl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ev(t){if(typeof t=="function")return Yl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gl)return 11;if(t===vl)return 14}return 2}function Wt(t,e){var r=t.alternate;return r===null?(r=We(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function li(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Yl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Lr:return pr(r.children,s,i,e);case ml:o=8,s|=8;break;case ea:return t=We(12,r,e,s|2),t.elementType=ea,t.lanes=i,t;case ta:return t=We(13,r,e,s),t.elementType=ta,t.lanes=i,t;case ra:return t=We(19,r,e,s),t.elementType=ra,t.lanes=i,t;case $d:return Zi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ad:o=10;break e;case Id:o=9;break e;case gl:o=11;break e;case vl:o=14;break e;case Ct:o=16,n=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=We(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function pr(t,e,r,n){return t=We(7,t,n,e),t.lanes=r,t}function Zi(t,e,r,n){return t=We(22,t,n,e),t.elementType=$d,t.lanes=r,t.stateNode={isHidden:!1},t}function Lo(t,e,r){return t=We(6,t,null,e),t.lanes=r,t}function Do(t,e,r){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xl(t,e,r,n,s,i,o,a,l){return t=new jv(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=We(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(i),t}function Ov(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Of(t){if(!t)return Ht;t=t._reactInternals;e:{if(br(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var r=t.type;if(Pe(r))return jh(t,r,e)}return e}function Cf(t,e,r,n,s,i,o,a,l){return t=Xl(r,n,!0,t,s,i,o,a,l),t.context=Of(null),r=t.current,n=be(),s=zt(r),i=mt(n,s),i.callback=e??null,Bt(r,i,s),t.current.lanes=s,gs(t,s,n),Te(t,n),t}function eo(t,e,r,n){var s=e.current,i=be(),o=zt(s);return r=Of(r),e.context===null?e.context=r:e.pendingContext=r,e=mt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bt(s,e,o),t!==null&&(tt(t,s,o,i),ri(t,s,o)),o}function Ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Zl(t,e){_c(t,e),(t=t.alternate)&&_c(t,e)}function Cv(){return null}var Nf=typeof reportError=="function"?reportError:function(t){console.error(t)};function eu(t){this._internalRoot=t}to.prototype.render=eu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));eo(t,e,null,null)};to.prototype.unmount=eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wr(function(){eo(null,t,null,null)}),e[vt]=null}};function to(t){this._internalRoot=t}to.prototype.unstable_scheduleHydration=function(t){if(t){var e=ih();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pt.length&&e!==0&&e<Pt[r].priority;r++);Pt.splice(r,0,t),r===0&&ah(t)}};function tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ro(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xc(){}function Nv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ri(o);i.call(u)}}var o=Cf(e,n,t,0,null,!1,!1,"",xc);return t._reactRootContainer=o,t[vt]=o.current,Zn(t.nodeType===8?t.parentNode:t),wr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ri(l);a.call(u)}}var l=Xl(t,0,!1,null,null,!1,!1,"",xc);return t._reactRootContainer=l,t[vt]=l.current,Zn(t.nodeType===8?t.parentNode:t),wr(function(){eo(e,l,r,n)}),l}function no(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ri(o);a.call(l)}}eo(e,o,t,s)}else o=Nv(r,e,t,s,n);return Ri(o)}nh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tn(e.pendingLanes);r!==0&&(_l(e,r|1),Te(e,re()),!(M&6)&&(an=re()+500,Jt()))}break;case 13:wr(function(){var n=yt(t,1);if(n!==null){var s=be();tt(n,t,1,s)}}),Zl(t,1)}};xl=function(t){if(t.tag===13){var e=yt(t,134217728);if(e!==null){var r=be();tt(e,t,134217728,r)}Zl(t,134217728)}};sh=function(t){if(t.tag===13){var e=zt(t),r=yt(t,e);if(r!==null){var n=be();tt(r,t,e,n)}Zl(t,e)}};ih=function(){return W};oh=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};ha=function(t,e,r){switch(e){case"input":if(ia(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ki(n);if(!s)throw Error(S(90));Dd(n),ia(n,s)}}}break;case"textarea":Md(t,r);break;case"select":e=r.value,e!=null&&Kr(t,!!r.multiple,e,!1)}};Hd=Gl;Kd=wr;var Pv={usingClientEntryPoint:!1,Events:[ys,Br,Ki,Vd,qd,Gl]},jn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tv={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qd(t),t===null?null:t.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||Cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Wi=Bs.inject(Tv),at=Bs}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv;Me.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(e))throw Error(S(200));return Ov(t,e,null,r)};Me.createRoot=function(t,e){if(!tu(t))throw Error(S(299));var r=!1,n="",s=Nf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xl(t,1,!1,null,null,r,!1,n,s),t[vt]=e.current,Zn(t.nodeType===8?t.parentNode:t),new eu(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Qd(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return wr(t)};Me.hydrate=function(t,e,r){if(!ro(e))throw Error(S(200));return no(null,t,e,!0,r)};Me.hydrateRoot=function(t,e,r){if(!tu(t))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Nf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Cf(e,null,t,1,r??null,s,!1,i,o),t[vt]=e.current,Zn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new to(e)};Me.render=function(t,e,r){if(!ro(e))throw Error(S(200));return no(null,t,e,!1,r)};Me.unmountComponentAtNode=function(t){if(!ro(t))throw Error(S(40));return t._reactRootContainer?(wr(function(){no(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Me.unstable_batchedUpdates=Gl;Me.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ro(r))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return no(t,e,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function Pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pf)}catch(t){console.error(t)}}Pf(),Nd.exports=Me;var Rv=Nd.exports,bc=Rv;Xo.createRoot=bc.createRoot,Xo.hydrateRoot=bc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ls.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const kc="popstate";function Av(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=kr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),qa("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Ai(i))}function n(s,i){so(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return $v(e,r,n,t)}function ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function so(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iv(){return Math.random().toString(36).substr(2,8)}function Sc(t,e){return{usr:t.state,key:t.key,idx:e}}function qa(t,e,r,n){return r===void 0&&(r=null),ls({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kr(e):e,{state:r,key:e&&e.key||n||Iv()})}function Ai(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function $v(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=$t.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ls({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=$t.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:g})}function f(_,g){a=$t.Push;let p=qa(w.location,_,g);r&&r(p,_),u=c()+1;let v=Sc(p,u),x=w.createHref(p);try{o.pushState(v,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function m(_,g){a=$t.Replace;let p=qa(w.location,_,g);r&&r(p,_),u=c();let v=Sc(p,u),x=w.createHref(p);o.replaceState(v,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function y(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:Ai(_);return p=p.replace(/ $/,"%20"),ne(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(kc,h),l=_,()=>{s.removeEventListener(kc,h),l=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(_){return o.go(_)}};return w}var Ec;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ec||(Ec={}));function Lv(t,e,r){return r===void 0&&(r="/"),Dv(t,e,r)}function Dv(t,e,r,n){let s=typeof e=="string"?kr(e):e,i=ru(s.pathname||"/",r);if(i==null)return null;let o=Tf(t);Uv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Qv(i);a=Kv(o[l],u)}return a}function Tf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ne(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Vt([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tf(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:qv(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Rf(i.path))s(i,o,l)}),e}function Rf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Rf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Uv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Hv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mv=/^:[\w-]+$/,Bv=3,Fv=2,zv=1,Wv=10,Vv=-2,jc=t=>t==="*";function qv(t,e){let r=t.split("/"),n=r.length;return r.some(jc)&&(n+=Vv),e&&(n+=Fv),r.filter(s=>!jc(s)).reduce((s,i)=>s+(Mv.test(i)?Bv:i===""?zv:Wv),n)}function Hv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Kv(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=Gv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Vt([i,h.pathname]),pathnameBase:ty(Vt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Vt([i,h.pathnameBase]))}return o}function Gv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Jv(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Jv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),so(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Qv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return so(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xv=t=>Yv.test(t);function Zv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?kr(t):t,i;if(r)if(Xv(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),so(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Oc(r.substring(1),"/"):i=Oc(r,e)}else i=e;return{pathname:i,search:ry(n),hash:ny(s)}}function Oc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Uo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ey(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nu(t,e){let r=ey(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function su(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=kr(t):(s=ls({},t),ne(!s.pathname||!s.pathname.includes("?"),Uo("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Uo("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Uo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Zv(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Vt=t=>t.join("/").replace(/\/\/+/g,"/"),ty=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ry=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ny=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Af=["post","put","patch","delete"];new Set(Af);const iy=["get",...Af];new Set(iy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},us.apply(this,arguments)}const iu=b.createContext(null),oy=b.createContext(null),Qt=b.createContext(null),io=b.createContext(null),ut=b.createContext({outlet:null,matches:[],isDataRoute:!1}),If=b.createContext(null);function ay(t,e){let{relative:r}=e===void 0?{}:e;hn()||ne(!1);let{basename:n,navigator:s}=b.useContext(Qt),{hash:i,pathname:o,search:a}=Lf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Vt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function hn(){return b.useContext(io)!=null}function fn(){return hn()||ne(!1),b.useContext(io).location}function $f(t){b.useContext(Qt).static||b.useLayoutEffect(t)}function Sr(){let{isDataRoute:t}=b.useContext(ut);return t?ky():ly()}function ly(){hn()||ne(!1);let t=b.useContext(iu),{basename:e,future:r,navigator:n}=b.useContext(Qt),{matches:s}=b.useContext(ut),{pathname:i}=fn(),o=JSON.stringify(nu(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return $f(()=>{a.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=su(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vt([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,i,t])}const uy=b.createContext(null);function cy(t){let e=b.useContext(ut).outlet;return e&&b.createElement(uy.Provider,{value:t},e)}function dy(){let{matches:t}=b.useContext(ut),e=t[t.length-1];return e?e.params:{}}function Lf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Qt),{matches:s}=b.useContext(ut),{pathname:i}=fn(),o=JSON.stringify(nu(s,n.v7_relativeSplatPath));return b.useMemo(()=>su(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function hy(t,e){return fy(t,e)}function fy(t,e,r,n){hn()||ne(!1);let{navigator:s}=b.useContext(Qt),{matches:i}=b.useContext(ut),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=fn(),c;if(e){var h;let _=typeof e=="string"?kr(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ne(!1),c=_}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Lv(t,{pathname:m}),w=yy(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Vt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Vt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&w?b.createElement(io.Provider,{value:{location:us({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$t.Pop}},w):w}function py(){let t=by(),e=sy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const my=b.createElement(py,null);class gy extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(ut.Provider,{value:this.props.routeContext},b.createElement(If.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vy(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(iu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ut.Provider,{value:e},n)}function yy(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||ne(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:m}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let m,y=!1,w=null,_=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||my,l&&(u<0&&f===0?(Sy("route-fallback"),y=!0,_=null):u===f&&(y=!0,_=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),p=()=>{let v;return m?v=w:y?v=_:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,b.createElement(vy,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(gy,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Df=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Df||{}),Uf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uf||{});function wy(t){let e=b.useContext(iu);return e||ne(!1),e}function _y(t){let e=b.useContext(oy);return e||ne(!1),e}function xy(t){let e=b.useContext(ut);return e||ne(!1),e}function Mf(t){let e=xy(),r=e.matches[e.matches.length-1];return r.route.id||ne(!1),r.route.id}function by(){var t;let e=b.useContext(If),r=_y(),n=Mf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ky(){let{router:t}=wy(Df.UseNavigateStable),e=Mf(Uf.UseNavigateStable),r=b.useRef(!1);return $f(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,us({fromRouteId:e},i)))},[t,e])}const Cc={};function Sy(t,e,r){Cc[t]||(Cc[t]=!0)}function Ey(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jy(t){let{to:e,replace:r,state:n,relative:s}=t;hn()||ne(!1);let{future:i,static:o}=b.useContext(Qt),{matches:a}=b.useContext(ut),{pathname:l}=fn(),u=Sr(),c=su(e,nu(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Nc(t){return cy(t.context)}function Ot(t){ne(!1)}function Oy(t){let{basename:e="/",children:r=null,location:n,navigationType:s=$t.Pop,navigator:i,static:o=!1,future:a}=t;hn()&&ne(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:us({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=kr(n));let{pathname:c="/",search:h="",hash:f="",state:m=null,key:y="default"}=n,w=b.useMemo(()=>{let _=ru(c,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:y},navigationType:s}},[l,c,h,f,m,y,s]);return w==null?null:b.createElement(Qt.Provider,{value:u},b.createElement(io.Provider,{children:r,value:w}))}function Cy(t){let{children:e,location:r}=t;return hy(Ha(e),r)}new Promise(()=>{});function Ha(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,Ha(n.props.children,i));return}n.type!==Ot&&ne(!1),!n.props.index||!n.props.children||ne(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ha(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ka.apply(this,arguments)}function Ny(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Py(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ty(t,e){return t.button===0&&(!e||e==="_self")&&!Py(t)}const Ry=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ay="6";try{window.__reactRouterVersion=Ay}catch{}const Iy="startTransition",Pc=xm[Iy];function $y(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=Av({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=b.useCallback(h=>{u&&Pc?Pc(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(c),[o,c]),b.useEffect(()=>Ey(n),[n]),b.createElement(Oy,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const Ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=Ny(e,Ry),{basename:m}=b.useContext(Qt),y,w=!1;if(typeof u=="string"&&Dy.test(u)&&(y=u,Ly))try{let v=new URL(window.location.href),x=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=ru(x.pathname,m);x.origin===v.origin&&k!=null?u=k+x.search+x.hash:w=!0}catch{}let _=ay(u,{relative:s}),g=Uy(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function p(v){n&&n(v),v.defaultPrevented||g(v)}return b.createElement("a",Ka({},f,{href:y||_,onClick:w||i?n:p,ref:r,target:l}))});var Tc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tc||(Tc={}));var Rc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rc||(Rc={}));function Uy(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Sr(),u=fn(),c=Lf(t,{relative:o});return b.useCallback(h=>{if(Ty(h,r)){h.preventDefault();let f=n!==void 0?n:Ai(u)===Ai(c);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,t,i,o,a])}var Ga=function(t,e){return Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ga(t,e)};function Bf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ga(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ii=function(){return Ii=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ii.apply(this,arguments)};function pn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ff(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function zf(t,e){return function(r,n){e(r,n,t)}}function Wf(t,e,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var _=(0,r[m])(a==="accessor"?{get:c.get,set:c.set}:c[l],y);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(h=o(_.get))&&(c.get=h),(h=o(_.set))&&(c.set=h),(h=o(_.init))&&s.unshift(h)}else(h=o(_))&&(a==="field"?s.unshift(h):c[l]=h)}u&&Object.defineProperty(u,n.name,c),f=!0}function Vf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function qf(t){return typeof t=="symbol"?t:"".concat(t)}function Hf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Kf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function P(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Gf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var oo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Jf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&oo(e,t,r)}function $i(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ou(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Qf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ou(arguments[e]));return t}function Yf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Xf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function ln(t){return this instanceof ln?(this.v=t,this):new ln(t)}function Zf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,h)}}function a(m,y){n[m]&&(s[m]=function(w){return new Promise(function(_,g){i.push([m,w,_,g])>1||l(m,w)})},y&&(s[m]=y(s[m])))}function l(m,y){try{u(n[m](y))}catch(w){f(i[0][3],w)}}function u(m){m.value instanceof ln?Promise.resolve(m.value.v).then(c,h):f(i[0][2],m)}function c(m){l("next",m)}function h(m){l("throw",m)}function f(m,y){m(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ep(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:ln(t[s](o)),done:!1}:i?i(o):o}:i}}function tp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof $i=="function"?$i(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function rp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var My=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ja=function(t){return Ja=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Ja(t)};function np(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Ja(t),n=0;n<r.length;n++)r[n]!=="default"&&oo(e,t,r[n]);return My(e,t),e}function sp(t){return t&&t.__esModule?t:{default:t}}function ip(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function op(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function ap(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var By=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function up(t){function e(i){t.error=t.hasError?new By(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function cp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Fy={__extends:Bf,__assign:Ii,__rest:pn,__decorate:Ff,__param:zf,__esDecorate:Wf,__runInitializers:Vf,__propKey:qf,__setFunctionName:Hf,__metadata:Kf,__awaiter:P,__generator:Gf,__createBinding:oo,__exportStar:Jf,__values:$i,__read:ou,__spread:Qf,__spreadArrays:Yf,__spreadArray:Xf,__await:ln,__asyncGenerator:Zf,__asyncDelegator:ep,__asyncValues:tp,__makeTemplateObject:rp,__importStar:np,__importDefault:sp,__classPrivateFieldGet:ip,__classPrivateFieldSet:op,__classPrivateFieldIn:ap,__addDisposableResource:lp,__disposeResources:up,__rewriteRelativeImportExtension:cp},zy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lp,get __assign(){return Ii},__asyncDelegator:ep,__asyncGenerator:Zf,__asyncValues:tp,__await:ln,__awaiter:P,__classPrivateFieldGet:ip,__classPrivateFieldIn:ap,__classPrivateFieldSet:op,__createBinding:oo,__decorate:Ff,__disposeResources:up,__esDecorate:Wf,__exportStar:Jf,__extends:Bf,__generator:Gf,__importDefault:sp,__importStar:np,__makeTemplateObject:rp,__metadata:Kf,__param:zf,__propKey:qf,__read:ou,__rest:pn,__rewriteRelativeImportExtension:cp,__runInitializers:Vf,__setFunctionName:Hf,__spread:Qf,__spreadArray:Xf,__spreadArrays:Yf,__values:$i,default:Fy},Symbol.toStringTag,{value:"Module"})),Wy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class au extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Vy extends au{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ac extends au{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ic extends au{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qa||(Qa={}));class qy{constructor(e,{headers:r={},customFetch:n,region:s=Qa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Wy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:_}).catch(k=>{throw new Vy(k)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Ac(g);if(!g.ok)throw new Ic(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield g.json():v==="application/octet-stream"||v==="application/pdf"?x=yield g.blob():v==="text/event-stream"?x=g:v==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Ic||a instanceof Ac?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var xe={};const mn=im(zy);var Fs={},zs={},Ws={},Vs={},qs={},Hs={},$c;function dp(){if($c)return Hs;$c=1,Object.defineProperty(Hs,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Hs.default=t,Hs}var Lc;function hp(){if(Lc)return qs;Lc=1,Object.defineProperty(qs,"__esModule",{value:!0});const e=mn.__importDefault(dp());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,h,f;let m=null,y=null,w=null,_=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=k:y=JSON.parse(k))}const v=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&x&&x.length>1&&(w=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await l.text();try{m=JSON.parse(v),Array.isArray(m)&&l.status===404&&(y=[],m=null,_=200,g="OK")}catch{l.status===404&&v===""?(_=204,g="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,_=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:w,status:_,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,h,f,m,y;let w="";const _=l==null?void 0:l.cause;if(_){const g=(u=_==null?void 0:_.message)!==null&&u!==void 0?u:"",p=(c=_==null?void 0:_.code)!==null&&c!==void 0?c:"";w=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(f=_==null?void 0:_.name)!==null&&f!==void 0?f:"Error"}: ${g}`,p&&(w+=` (${p})`),_!=null&&_.stack&&(w+=`
${_.stack}`)}else w=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return qs.default=r,qs}var Dc;function fp(){if(Dc)return Vs;Dc=1,Object.defineProperty(Vs,"__esModule",{value:!0});const e=mn.__importDefault(hp());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Vs.default=r,Vs}var Uc;function lu(){if(Uc)return Ws;Uc=1,Object.defineProperty(Ws,"__esModule",{value:!0});const e=mn.__importDefault(fp()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Ws.default=n,Ws}var Mc;function pp(){if(Mc)return zs;Mc=1,Object.defineProperty(zs,"__esModule",{value:!0});const e=mn.__importDefault(lu());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return zs.default=r,zs}var Bc;function Hy(){if(Bc)return Fs;Bc=1,Object.defineProperty(Fs,"__esModule",{value:!0});const t=mn,e=t.__importDefault(pp()),r=t.__importDefault(lu());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{f.searchParams.append(w,_)})):(h="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Fs.default=n,Fs}Object.defineProperty(xe,"__esModule",{value:!0});var mp=xe.PostgrestError=Ep=xe.PostgrestBuilder=kp=xe.PostgrestTransformBuilder=xp=xe.PostgrestFilterBuilder=wp=xe.PostgrestQueryBuilder=vp=xe.PostgrestClient=void 0;const gn=mn,gp=gn.__importDefault(Hy());var vp=xe.PostgrestClient=gp.default;const yp=gn.__importDefault(pp());var wp=xe.PostgrestQueryBuilder=yp.default;const _p=gn.__importDefault(lu());var xp=xe.PostgrestFilterBuilder=_p.default;const bp=gn.__importDefault(fp());var kp=xe.PostgrestTransformBuilder=bp.default;const Sp=gn.__importDefault(hp());var Ep=xe.PostgrestBuilder=Sp.default;const jp=gn.__importDefault(dp());mp=xe.PostgrestError=jp.default;var Op=xe.default={PostgrestClient:gp.default,PostgrestQueryBuilder:yp.default,PostgrestFilterBuilder:_p.default,PostgrestTransformBuilder:bp.default,PostgrestBuilder:Sp.default,PostgrestError:jp.default};const Ky=gd({__proto__:null,get PostgrestBuilder(){return Ep},get PostgrestClient(){return vp},get PostgrestError(){return mp},get PostgrestFilterBuilder(){return xp},get PostgrestQueryBuilder(){return wp},get PostgrestTransformBuilder(){return kp},default:Op},[xe]),{PostgrestClient:Gy,PostgrestQueryBuilder:Gx,PostgrestFilterBuilder:Jx,PostgrestTransformBuilder:Qx,PostgrestBuilder:Yx,PostgrestError:Xx}=Op||Ky;class Jy{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qy="2.86.0",Yy=`realtime-js/${Qy}`,Cp="1.0.0",Xy="2.0.0",Fc=Cp,Ya=1e4,Zy=1e3,e0=100;var or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(or||(or={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xe||(Xe={}));var Xa;(function(t){t.websocket="websocket"})(Xa||(Xa={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class t0{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,o.length),y.setUint8(w++,u.length),y.setUint8(w++,h.length),y.setUint8(w++,r),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(h,g=>y.setUint8(w++,g.charCodeAt(0)));var _=new Uint8Array(m.byteLength+n.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(n),m.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,y={type:this.BROADCAST_EVENT,event:c,payload:m};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Np{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const zc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=r0(o,t,e,s),i),{}):{}},r0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Pp(i,o):Za(o)},Pp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return o0(e,r)}switch(t){case V.bool:return n0(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return s0(e);case V.json:case V.jsonb:return i0(e);case V.timestamp:return a0(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Za(e);default:return Za(e)}},Za=t=>t,n0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},s0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},o0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Pp(e,a))}return t},a0=t=>typeof t=="string"?t.replace(" ","T"):t,Tp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mo{constructor(e,r,n={},s=Ya){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wc||(Wc={}));class Wn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Wn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),y=c.filter(_=>m.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(m=>m.presence_ref),f=c.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vc||(Vc={}));var Vn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vn||(Vn={}));var dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class uu{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mo(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new Np(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Wn(this),this.broadcastEndpointURL=Tp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Vn.PRESENCE]&&this.bindings[Vn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(dt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(dt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(dt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<_;p++){const v=w[p],{filter:{event:x,schema:k,table:E,filter:O}}=v,N=m&&m[p];if(N&&N.event===x&&N.schema===k&&N.table===E&&N.filter===O)g.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(dt.SUBSCRIBED);return}}).receive("error",m=>{this.state=oe.errored,e==null||e(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===Vn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Mo(this,Xe.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>e0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Xe;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,_,g,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const x=m.id,k=(y=m.filter)===null||y===void 0?void 0:y.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:_,commit_timestamp:g,type:p,errors:v}=y;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&uu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xe.close,{},e)}_onError(e){this._on(Xe.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zc(e.columns,e.old_record)),r}}const Bo=()=>{},Ks={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l0=[1e3,2e3,5e3,1e4],u0=1e4,c0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ya,this.transport=null,this.heartbeatIntervalMs=Ks.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bo,this.ref=0,this.reconnectTimer=null,this.vsn=Fc,this.logger=Bo,this.conn=null,this.sendBuffer=[],this.serializer=new t0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Xa.websocket}`,this.httpEndpoint=Tp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case or.connecting:return ar.Connecting;case or.open:return ar.Open;case or.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new uu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ks.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===or.open||this.conn.readyState===or.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([c0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Yy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Np(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ks.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ya,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ks.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Bo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Fc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>l0[y-1]||u0,this.vsn){case Cp:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case Xy:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ao extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class h0 extends ao{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class el extends ao{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const cu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),f0=()=>Response,tl=t=>{if(Array.isArray(t))return t.map(r=>tl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=tl(n)}),e},p0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},m0=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Fo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},g0=(t,e,r)=>P(void 0,void 0,void 0,function*(){const n=yield f0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new h0(Fo(s),i,o))}).catch(s=>{e(new el(Fo(s),s))}):e(new el(Fo(t),t))}),v0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(p0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function _s(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,v0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>g0(l,a,n))})})}function cs(t,e,r,n){return P(this,void 0,void 0,function*(){return _s(t,"GET",e,r,n)})}function Qe(t,e,r,n,s){return P(this,void 0,void 0,function*(){return _s(t,"POST",e,n,s,r)})}function rl(t,e,r,n,s){return P(this,void 0,void 0,function*(){return _s(t,"PUT",e,n,s,r)})}function y0(t,e,r,n){return P(this,void 0,void 0,function*(){return _s(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function du(t,e,r,n,s){return P(this,void 0,void 0,function*(){return _s(t,"DELETE",e,n,s,r)})}class w0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}var Rp;class _0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Rp]="BlobDownloadBuilder",this.promise=null}asStream(){return new w0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}Rp=Symbol.toStringTag;const x0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=cu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},qc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield(e=="PUT"?rl:Qe)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}upload(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:qc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield rl(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(J(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Qe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ao("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}update(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}copy(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield Qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Qe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return P(this,void 0,void 0,function*(){try{const s=yield Qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>cs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new _0(l,this.shouldThrowOnError)}info(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield cs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}exists(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield y0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n)&&n instanceof el){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return P(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}list(e,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},x0),r),{prefix:e||""});return{data:yield Qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}listV2(e,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Qe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ap="2.86.0",Ip={"X-Client-Info":`storage-js/${Ap}`};class k0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield cs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}createBucket(e){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Qe(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}emptyBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ds=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function S0(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function E0(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function j0(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=S0(t.baseUrl,n,s),l=await E0(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&c?JSON.parse(c):c;if(!u.ok){const m=h?f:void 0,y=m==null?void 0:m.error;throw new ds((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Gs(t){return t.join("")}var O0=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Gs(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gs(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gs(t.namespace)}`}),!0}catch(e){if(e instanceof ds&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ds&&r.status===409)return;throw r}}};function jr(t){return t.join("")}var C0=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ds&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ds&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},N0=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=j0({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new O0(this.client,e),this.tableOps=new C0(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class P0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield cs(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}from(e){if(!m0(e))throw new ao("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new N0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>P(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const hu={"X-Client-Info":`storage-js/${Ap}`,"Content-Type":"application/json"};class $p extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zo extends $p{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class T0 extends $p{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Hc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hc||(Hc={}));const fu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),R0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A0=(t,e,r)=>P(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new zo(Kc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new zo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new zo(a,s,o))}}else e(new T0(Kc(t),t))}),I0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(R0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function $0(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,I0(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>A0(l,a,n))})})}function $e(t,e,r,n,s){return P(this,void 0,void 0,function*(){return $0(t,"POST",e,n,s,r)})}class L0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),r),this.fetch=fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return P(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}listIndexes(e){return P(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}}class D0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),r),this.fetch=fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return P(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $e(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listVectors(e){return P(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield $e(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}queryVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteVectors(e){return P(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $e(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class U0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),r),this.fetch=fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(e={}){try{return{data:yield $e(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class M0 extends U0{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new B0(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return P(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return P(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return P(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return P(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class B0 extends L0{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new F0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class F0 extends D0{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class z0 extends k0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new b0(this.url,this.headers,e,this.fetch)}get vectors(){return new M0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P0(this.url+"/iceberg",this.headers,this.fetch)}}const W0="2.86.0";let An="";typeof Deno<"u"?An="deno":typeof document<"u"?An="web":typeof navigator<"u"&&navigator.product==="ReactNative"?An="react-native":An="node";const V0={"X-Client-Info":`supabase-js-${An}/${W0}`},q0={headers:V0},H0={schema:"public"},K0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G0={},J0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q0=()=>Headers,Y0=(t,e,r)=>{const n=J0(r),s=Q0();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function X0(t){return t.endsWith("/")?t:t+"/"}function Z0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ew(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lp="2.86.0",Ar=30*1e3,nl=3,Wo=nl*Ar,tw="http://localhost:9999",rw="supabase.auth.token",nw={"X-Client-Info":`gotrue-js/${Lp}`},sl="X-Supabase-Api-Version",Dp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iw=10*60*1e3;class hs extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function T(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ow extends hs{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aw(t){return T(t)&&t.name==="AuthApiError"}class lr extends hs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Yt extends hs{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Re extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lw(t){return T(t)&&t.name==="AuthSessionMissingError"}class Or extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Js extends Yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qs extends Yt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uw(t){return T(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gc extends Yt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class il extends Yt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vo(t){return T(t)&&t.name==="AuthRetryableFetchError"}class Jc extends Yt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ol extends Yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qc=` 	
\r=`.split(""),cw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qc.length;e+=1)t[Qc[e].charCodeAt(0)]=-2;for(let e=0;e<Li.length;e+=1)t[Li[e].charCodeAt(0)]=e;return t})();function Yc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Li[n]),e.queuedBits-=6}}function Up(t,e,r){const n=cw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{fw(o,n,r)};for(let o=0;o<t.length;o+=1)Up(t.charCodeAt(o),s,i);return e.join("")}function dw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}dw(n,e)}}function fw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Zr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Up(t.charCodeAt(s),r,n);return new Uint8Array(e)}function pw(t){const e=[];return hw(t,r=>e.push(r)),new Uint8Array(e)}function hr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Yc(s,r,n)),Yc(null,r,n),e.join("")}function mw(t){return Math.round(Date.now()/1e3)+t}function gw(){return Symbol("auth-callback")}const he=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},Mp=()=>{if(!he())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function vw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Bp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ir=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},tr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Et=async(t,e)=>{await t.removeItem(e)};class lo{constructor(){this.promise=new lo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}lo.promiseConstructor=Promise;function qo(t){const e=t.split(".");if(e.length!==3)throw new ol("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!sw.test(e[n]))throw new ol("JWT not in base64url format");return{header:JSON.parse(Xc(e[0])),payload:JSON.parse(Xc(e[1])),signature:Zr(e[2]),raw:{header:e[0],payload:e[1]}}}async function ww(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _w(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function xw(t){return("0"+t.toString(16)).substr(-2)}function bw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xw).join("")}async function kw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Sw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(t,e,r=!1){const n=bw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ir(t,`${e}-code-verifier`,s);const i=await Sw(n);return[i,n===i?"plain":"s256"]}const Ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jw(t){const e=t.headers.get(sl);if(!e||!e.match(Ew))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ow(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(t){if(!Nw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ho(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pw(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Zc(t){return JSON.parse(JSON.stringify(t))}const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Tw=[502,503,504];async function ed(t){var e;if(!yw(t))throw new il(sr(t),0);if(Tw.includes(t.status))throw new il(sr(t),t.status);let r;try{r=await t.json()}catch(i){throw new lr(sr(i),i)}let n;const s=jw(t);if(s&&s.getTime()>=Dp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jc(sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Re}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jc(sr(r),t.status,r.weak_password.reasons);throw new ow(sr(r),t.status||500,n)}const Rw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function R(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sl]||(i[sl]=Dp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Aw(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Aw(t,e,r,n,s,i){const o=Rw(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new il(sr(l),0)}if(a.ok||await ed(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ed(l)}}function Ge(t){var e;let r=null;Lw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=mw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function td(t){const e=Ge(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Iw(t){return{data:t,error:null}}function $w(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=pn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rd(t){return t}function Lw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ko=["global","local","others"];class Dw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Bp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ko[0]){if(Ko.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ko.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=pn(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$w,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(T(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rd});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(T(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Nr(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Nr(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Nr(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Nr(e.userId);try{const{data:r,error:n}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(T(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Nr(e.userId),Nr(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rd});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(T(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}}}function nd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Pr={debug:!!(globalThis&&Mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Uw extends Fp{}async function Mw(t,e,r){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Uw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Bw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Fw(t){return parseInt(t,16)}function zw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Ww(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=zp(t.address),y=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${_}
${g}`}class se extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Di extends se{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Vw({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Wp(o)){if(i.rp.id!==o)return new se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function qw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Wp(n)){if(r.rpId!==n)return new se({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Hw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Kw=new Hw;function Gw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=pn(t,["challenge","user","excludeCredentials"]),i=Zr(e).buffer,o=Object.assign(Object.assign({},r),{id:Zr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Zr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Jw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=pn(t,["challenge","allowCredentials"]),s=Zr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Zr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Qw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hr(new Uint8Array(t.response.attestationObject)),clientDataJSON:hr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hr(new Uint8Array(s.authenticatorData)),clientDataJSON:hr(new Uint8Array(s.clientDataJSON)),signature:hr(new Uint8Array(s.signature)),userHandle:s.userHandle?hr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sd(){var t,e;return!!(he()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Xw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Di("Browser returned unexpected credential type",e)}:{data:null,error:new Di("Empty credential response",e)}}catch(e){return{data:null,error:Vw({error:e,options:t})}}}async function Zw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Di("Browser returned unexpected credential type",e)}:{data:null,error:new Di("Empty credential response",e)}}catch(e){return{data:null,error:qw({error:e,options:t})}}}const e_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},t_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ui(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ui(a,o):n[i]=Ui(o)}else n[i]=o}return n}function r_(t,e){return Ui(e_,t,e||{})}function n_(t,e){return Ui(t_,t,e||{})}class s_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??Kw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=r_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await Xw({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=n_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await Zw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return T(o)?{data:null,error:o}:{data:null,error:new lr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new hs("rpId is required for WebAuthn authentication")};try{if(!sd())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return T(o)?{data:null,error:o}:{data:null,error:new lr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new hs("rpId is required for WebAuthn registration")};try{if(!sd())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return T(o)?{data:null,error:o}:{data:null,error:new lr("Unexpected error in register",o)}}}}Bw();const i_={url:tw,storageKey:rw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function id(t,e,r){return await r()}const Tr={};class fs{get jwks(){var e,r;return(r=(e=Tr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Tr[this.storageKey]=Object.assign(Object.assign({},Tr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Tr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tr[this.storageKey]=Object.assign(Object.assign({},Tr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},i_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=fs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&he()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Dw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bp(i.fetch),this.lock=i.lock||id,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:he()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Mw:this.lock=id,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new s_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Mp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nd(this.memoryStorage)),he()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(he()&&(r=vw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),he()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return T(r)?this._returnResult({error:r}):this._returnResult({error:new lr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ge}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(T(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Cr(this.storage,this.storageKey)),i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:Ge})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ge})}else throw new Js("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(T(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:td})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:td})}else throw new Js("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Or;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,h,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:_,statement:g,options:p}=e;let v;if(he())if(typeof _=="object")v=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")v=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=_}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),k=await v.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=zp(k[0]);let O=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const U=await v.request({method:"eth_chainId"});O=Fw(U)}const N={domain:x.host,address:E,statement:g,uri:x.href,version:"1",chainId:O,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=Ww(N),y=await v.request({method:"personal_sign",params:[zw(m),E]})}try{const{data:w,error:_}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ge});if(_)throw _;if(!w||!w.session||!w.user){const g=new Or;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(T(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,h,f,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:g,statement:p,options:v}=e;let x;if(he())if(typeof g=="object")x=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const k=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),w=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:g}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:hr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ge});if(g)throw g;if(!_||!_.session||!_.user){const p=new Or;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(T(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await tr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ge});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Or;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(T(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ge}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Or;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Cr(this.storage,this.storageKey));const{error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Js("You must provide either an email or phone number.")}catch(a){if(T(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ge});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(T(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Cr(this.storage,this.storageKey));const u=await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Iw});return!((i=u.data)===null||i===void 0)&&i.url&&he()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(T(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Re;const{error:s}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(T(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await R(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await R(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Js("You must provide either an email or phone number and a type")}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await tr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ho()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Pw(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Re}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Rt})})}catch(r){if(T(r))return lw(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Re;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Cr(this.storage,this.storageKey));const{data:u,error:c}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Rt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(T(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Re;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=qo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(T(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Re;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!he())throw new Qs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gc("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Qs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const m=f-c;m*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(T(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(aw(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=gw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Cr(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(T(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return he()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(T(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ge}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Or}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(T(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _w(async s=>(s>0&&await ww(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ge})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Vo(i)&&Date.now()+o-n<Ar})}catch(n){if(this._debug(r,"error",n),T(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),he()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await tr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ho()}else if(s&&!s.user&&!s.user){const o=await tr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Et(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Ho()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Vo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Re;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Re;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),T(i)){const o={data:null,error:i};return Vo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Zc(s);await Ir(this.storage,this.storageKey,i)}else{const s=Zc(r);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&he()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ar}ms, refresh threshold is ${nl} ticks`),s<=nl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!he()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await R(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Qw(e.webauthn.credential_response):Yw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Gw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Jw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await R(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Re})})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Re});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&he()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(T(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Re});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&he()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(T(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await R(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Re})})}catch(e){if(T(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await R(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Re})})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+iw>s)return n;const{data:i,error:o}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=qo(n);r!=null&&r.allowExpired||Ow(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=Cw(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,pw(`${a}.${l}`)))throw new ol("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(T(n))return this._returnResult({data:null,error:n});throw n}}}fs.nextInstanceID={};const o_=fs;class a_ extends o_{constructor(e){super(e)}}class l_{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=ew(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:H0,realtime:G0,auth:Object.assign(Object.assign({},K0),{storageKey:l}),global:q0},c=Z0(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Y0(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Gy(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new z0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new qy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a_({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new d0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u_=(t,e,r)=>new l_(t,e,r);function c_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}c_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Go={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ranptbmF3ZWRpeWxsb2JvbGhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzOTE1MjksImV4cCI6MjA3OTk2NzUyOX0.WPv5ehovp5KJjwTX4B1mmYruC9uLasALvwaCI9EjSTw",VITE_SUPABASE_URL:"https://mkjzmnawediyllobolhj.supabase.co"},Vp=t=>{try{return Go==null?void 0:Go[t]}catch{return}},d_=Vp("VITE_SUPABASE_URL")||"https://mkjzmnawediyllobolhj.supabase.co",h_=Vp("VITE_SUPABASE_ANON_KEY")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ranptbmF3ZWRpeWxsb2JvbGhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzOTE1MjksImV4cCI6MjA3OTk2NzUyOX0.WPv5ehovp5KJjwTX4B1mmYruC9uLasALvwaCI9EjSTw",te=u_(d_,h_,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),qp=b.createContext(void 0),f_=({children:t})=>{const[e,r]=b.useState({user:null,session:null,profile:null,loading:!0,isAdmin:!1}),n=b.useCallback(async o=>{try{const{data:a,error:l}=await te.from("profiles").select("*").eq("id",o).single();return l?(l.code==="PGRST116"||console.warn("Error fetching profile:",l.message),null):a}catch{return console.warn("Failed to fetch profile (connection issue likely)"),null}},[]);b.useEffect(()=>{let o=!0;(async()=>{try{const{data:{session:u}}=await te.auth.getSession();let c=null;u!=null&&u.user&&(c=await n(u.user.id)),o&&r({user:(u==null?void 0:u.user)??null,session:u,profile:c,loading:!1,isAdmin:(c==null?void 0:c.is_admin)||!1})}catch(u){console.error("Auth init error:",u),o&&r(c=>({...c,loading:!1}))}})();const{data:{subscription:l}}=te.auth.onAuthStateChange(async(u,c)=>{var h;if(o){if(u==="SIGNED_OUT"){r({user:null,session:null,profile:null,loading:!1,isAdmin:!1});return}if(u==="TOKEN_REFRESHED"&&((h=e.user)==null?void 0:h.id)===(c==null?void 0:c.user.id)){r(f=>({...f,session:c}));return}if(c!=null&&c.user){const f=await n(c.user.id);o&&r({user:c.user,session:c,profile:f,loading:!1,isAdmin:(f==null?void 0:f.is_admin)||!1})}}});return()=>{o=!1,l.unsubscribe()}},[n]);const s=async()=>{await te.auth.signOut()},i=async()=>{if(e.user){const o=await n(e.user.id);r(a=>({...a,profile:o,isAdmin:(o==null?void 0:o.is_admin)||!1}))}};return d.jsx(qp.Provider,{value:{...e,signOut:s,refreshProfile:i},children:t})},vn=()=>{const t=b.useContext(qp);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>b.createElement("svg",{ref:c,...p_,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${m_(t)}`,a].join(" "),...u},[...e.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=B("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=B("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=B("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=B("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=B("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=B("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=B("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),A_=()=>{const{user:t,signOut:e}=vn(),r=Sr(),n=fn(),[s,i]=b.useState(!1),o=async()=>{await e(),r("/login")},a=c=>n.pathname===c;if(!t)return d.jsxs("div",{className:"min-h-screen font-sans bg-[#F5F6FB] text-navy-800",children:[d.jsx("nav",{className:"fixed w-full z-50 top-0 bg-white/80 backdrop-blur-md border-b border-white/20",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between h-20 items-center",children:[d.jsxs(je,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-brand-500 p-2 rounded-xl shadow-lg shadow-brand-500/30",children:d.jsx(Qo,{className:"h-5 w-5 text-white",fill:"currentColor"})}),d.jsx("span",{className:"text-2xl font-heading font-bold text-navy-900 tracking-tight",children:"NoteSpace"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(je,{to:"/login",className:"text-navy-600 hover:text-navy-900 font-medium text-sm",children:"Log In"}),d.jsx(je,{to:"/register",className:"px-6 py-2.5 rounded-full bg-navy-900 text-white text-sm font-medium hover:bg-navy-800 transition-all shadow-lg",children:"Get Started"})]})]})})}),d.jsx("main",{className:"pt-20",children:d.jsx(Nc,{})})]});const l=t.email?t.email[0].toUpperCase():"U",u=({to:c,icon:h,label:f})=>d.jsxs(je,{to:c,onClick:()=>i(!1),className:`flex items-center gap-3 px-4 py-3.5 rounded-2xl transition-all duration-200 group ${a(c)?"bg-white shadow-sm text-brand-600 font-semibold":"text-navy-500 hover:bg-white/50 hover:text-navy-800"}`,children:[d.jsx(h,{className:`h-5 w-5 ${a(c)?"text-brand-500":"text-navy-400 group-hover:text-navy-600"}`}),d.jsx("span",{className:"text-sm",children:f})]});return d.jsxs("div",{className:"min-h-screen bg-[#F0F2F5] font-sans flex overflow-hidden",children:[d.jsxs("aside",{className:"hidden lg:flex flex-col w-72 bg-[#F5F6FB] border-r border-gray-200/50 h-screen fixed left-0 top-0 z-40",children:[d.jsx("div",{className:"p-8 pb-4",children:d.jsxs(je,{to:"/",className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-brand-500 p-2 rounded-xl shadow-lg shadow-brand-500/20",children:d.jsx(Qo,{className:"h-5 w-5 text-white",fill:"currentColor"})}),d.jsx("span",{className:"text-2xl font-heading font-bold text-navy-900",children:"NoteSpace"})]})}),d.jsxs("div",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:[d.jsx("div",{className:"px-4 mb-2 text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Menu"}),d.jsx(u,{to:"/",icon:od,label:"Dashboard"}),d.jsx(u,{to:"/profile",icon:al,label:"My Notes"}),d.jsx(u,{to:"/create",icon:Jo,label:"Create Note"}),d.jsx("div",{className:"px-4 mt-8 mb-2 text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Discover"}),d.jsx("div",{className:"px-4 py-2 text-sm text-navy-400 italic",children:"Coming soon..."}),d.jsxs("button",{className:"flex items-center gap-3 px-4 py-3.5 rounded-2xl text-navy-400 hover:text-navy-600 hover:bg-white/50 w-full text-left transition-all cursor-not-allowed opacity-60",children:[d.jsx(__,{className:"h-5 w-5"}),d.jsx("span",{className:"text-sm",children:"Explore Topics"})]}),d.jsxs("button",{className:"flex items-center gap-3 px-4 py-3.5 rounded-2xl text-navy-400 hover:text-navy-600 hover:bg-white/50 w-full text-left transition-all cursor-not-allowed opacity-60",children:[d.jsx(y_,{className:"h-5 w-5"}),d.jsx("span",{className:"text-sm",children:"Saved Notes"})]})]}),d.jsx("div",{className:"p-4 border-t border-gray-200/50",children:d.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-bold",children:l}),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"text-sm font-bold text-navy-900 truncate",children:"My Account"}),d.jsx("p",{className:"text-xs text-navy-500 truncate",children:t.email})]})]}),d.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 text-xs font-medium text-navy-500 hover:text-red-500 py-2 rounded-lg hover:bg-red-50 transition-colors",children:[d.jsx(ad,{className:"h-3 w-3"})," Sign Out"]})]})})]}),d.jsxs("div",{className:"lg:hidden fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-gray-100 px-4 h-16 flex items-center justify-between",children:[d.jsxs(je,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-brand-500 p-1.5 rounded-lg",children:d.jsx(Qo,{className:"h-4 w-4 text-white",fill:"currentColor"})}),d.jsx("span",{className:"text-xl font-heading font-bold text-navy-900",children:"NoteSpace"})]}),d.jsx("button",{onClick:()=>i(!0),className:"p-2 text-navy-600",children:d.jsx(E_,{className:"h-6 w-6"})})]}),s&&d.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-navy-900/20 backdrop-blur-sm",onClick:()=>i(!1)}),d.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white shadow-2xl p-6 flex flex-col animate-fade-in",children:[d.jsx("div",{className:"flex justify-end mb-8",children:d.jsx("button",{onClick:()=>i(!1),children:d.jsx(Mi,{className:"h-6 w-6 text-navy-400"})})}),d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsx(u,{to:"/",icon:od,label:"Dashboard"}),d.jsx(u,{to:"/profile",icon:al,label:"My Profile"}),d.jsx(u,{to:"/create",icon:Jo,label:"Create Note"})]}),d.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-red-500 font-medium mt-auto pt-6 border-t border-gray-100",children:[d.jsx(ad,{className:"h-5 w-5"})," Sign Out"]})]})]}),d.jsx("main",{className:"flex-1 lg:ml-72 min-h-screen pt-20 lg:pt-8 px-4 sm:px-8 lg:px-12 pb-12 overflow-x-hidden",children:d.jsx(Nc,{})}),d.jsx(je,{to:"/create",className:"fixed bottom-6 right-6 z-40 lg:hidden flex items-center justify-center h-14 w-14 rounded-full bg-accent text-navy-900 shadow-xl shadow-orange-500/20 hover:scale-105 transition-transform active:scale-95 border-2 border-white",children:d.jsx(Jo,{className:"h-7 w-7"})})]})};function nt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function _r(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Xp=6048e5,I_=864e5;let $_={};function uo(){return $_}function ps(t,e){var a,l,u,c;const r=uo(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=nt(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Bi(t){return ps(t,{weekStartsOn:1})}function Zp(t){const e=nt(t),r=e.getFullYear(),n=_r(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Bi(n),i=_r(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Bi(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function ud(t){const e=nt(t);return e.setHours(0,0,0,0),e}function cd(t){const e=nt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function L_(t,e){const r=ud(t),n=ud(e),s=+r-cd(r),i=+n-cd(n);return Math.round((s-i)/I_)}function D_(t){const e=Zp(t),r=_r(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Bi(r)}function U_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function M_(t){if(!U_(t)&&typeof t!="number")return!1;const e=nt(t);return!isNaN(Number(e))}function B_(t){const e=nt(t),r=_r(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const F_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},z_=(t,e,r)=>{let n;const s=F_[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yo(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const W_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H_={date:Yo({formats:W_,defaultWidth:"full"}),time:Yo({formats:V_,defaultWidth:"full"}),dateTime:Yo({formats:q_,defaultWidth:"full"})},K_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},G_=(t,e,r,n)=>K_[t];function On(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const J_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tx=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rx={ordinalNumber:tx,era:On({values:J_,defaultWidth:"wide"}),quarter:On({values:Q_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:On({values:Y_,defaultWidth:"wide"}),day:On({values:X_,defaultWidth:"wide"}),dayPeriod:On({values:Z_,defaultWidth:"wide",formattingValues:ex,defaultFormattingWidth:"wide"})};function Cn(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?sx(a,h=>h.test(o)):nx(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function nx(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function sx(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function ix(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const ox=/^(\d+)(th|st|nd|rd)?/i,ax=/\d+/i,lx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ux={any:[/^b/i,/^(a|c)/i]},cx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dx={any:[/1/i,/2/i,/3/i,/4/i]},hx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},px={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yx={ordinalNumber:ix({matchPattern:ox,parsePattern:ax,valueCallback:t=>parseInt(t,10)}),era:Cn({matchPatterns:lx,defaultMatchWidth:"wide",parsePatterns:ux,defaultParseWidth:"any"}),quarter:Cn({matchPatterns:cx,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cn({matchPatterns:hx,defaultMatchWidth:"wide",parsePatterns:fx,defaultParseWidth:"any"}),day:Cn({matchPatterns:px,defaultMatchWidth:"wide",parsePatterns:mx,defaultParseWidth:"any"}),dayPeriod:Cn({matchPatterns:gx,defaultMatchWidth:"any",parsePatterns:vx,defaultParseWidth:"any"})},wx={code:"en-US",formatDistance:z_,formatLong:H_,formatRelative:G_,localize:rx,match:yx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _x(t){const e=nt(t);return L_(e,B_(e))+1}function xx(t){const e=nt(t),r=+Bi(e)-+D_(e);return Math.round(r/Xp)+1}function em(t,e){var c,h,f,m;const r=nt(t),n=r.getFullYear(),s=uo(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=_r(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=ps(o,e),l=_r(t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=ps(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bx(t,e){var a,l,u,c;const r=uo(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=em(t,e),i=_r(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ps(i,e)}function kx(t,e){const r=nt(t),n=+ps(r,e)-+bx(r,e);return Math.round(n/Xp)+1}function z(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const jt={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return z(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):z(r+1,2)},d(t,e){return z(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return z(t.getHours()%12||12,e.length)},H(t,e){return z(t.getHours(),e.length)},m(t,e){return z(t.getMinutes(),e.length)},s(t,e){return z(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return z(s,e.length)}},Rr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dd={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return jt.y(t,e)},Y:function(t,e,r,n){const s=em(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return z(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):z(i,e.length)},R:function(t,e){const r=Zp(t);return z(r,e.length)},u:function(t,e){const r=t.getFullYear();return z(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return jt.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=kx(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):z(s,e.length)},I:function(t,e,r){const n=xx(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):z(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):jt.d(t,e)},D:function(t,e,r){const n=_x(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):z(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return z(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return z(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return z(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Rr.noon:n===0?s=Rr.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Rr.evening:n>=12?s=Rr.afternoon:n>=4?s=Rr.morning:s=Rr.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return jt.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):jt.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):z(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):z(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):jt.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):jt.s(t,e)},S:function(t,e){return jt.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fd(n);case"XXXX":case"XX":return ir(n);case"XXXXX":case"XXX":default:return ir(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return fd(n);case"xxxx":case"xx":return ir(n);case"xxxxx":case"xxx":default:return ir(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hd(n,":");case"OOOO":default:return"GMT"+ir(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hd(n,":");case"zzzz":default:return"GMT"+ir(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return z(n,e.length)},T:function(t,e,r){const n=t.getTime();return z(n,e.length)}};function hd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+z(i,2)}function fd(t,e){return t%60===0?(t>0?"-":"+")+z(Math.abs(t)/60,2):ir(t,e)}function ir(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=z(Math.trunc(n/60),2),i=z(n%60,2);return r+s+e+i}const pd=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tm=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Sx=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return pd(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",pd(n,e)).replace("{{time}}",tm(s,e))},Ex={p:tm,P:Sx},jx=/^D+$/,Ox=/^Y+$/,Cx=["D","DD","YY","YYYY"];function Nx(t){return jx.test(t)}function Px(t){return Ox.test(t)}function Tx(t,e,r){const n=Rx(t,e,r);if(console.warn(n),Cx.includes(t))throw new RangeError(n)}function Rx(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ax=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ix=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$x=/^'([^]*?)'?$/,Lx=/''/g,Dx=/[a-zA-Z]/;function Fi(t,e,r){var c,h,f,m;const n=uo(),s=n.locale??wx,i=n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=nt(t);if(!M_(a))throw new RangeError("Invalid time value");let l=e.match(Ix).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=Ex[w];return _(y,s.formatLong)}return y}).join("").match(Ax).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Ux(y)};if(dd[w])return{isToken:!0,value:y};if(w.match(Dx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(Px(w)||Nx(w))&&Tx(w,e,String(t));const _=dd[w[0]];return _(a,w,s.localize,u)}).join("")}function Ux(t){const e=t.match($x);return e?e[1].replace(Lx,"'"):t}const rm=({note:t})=>{var i,o,a,l;const e=t.created_at&&!isNaN(new Date(t.created_at).getTime())?Fi(new Date(t.created_at),"MMM d"):"Unknown",r="linear-gradient(135deg, #E0E7FF 0%, #F5F3FF 100%)",n=t.likes&&t.likes[0]?t.likes[0].count:0,s=t.comments&&t.comments[0]?t.comments[0].count:0;return d.jsx(je,{to:`/note/${t.id}`,className:"block h-full group",children:d.jsxs("div",{className:"bg-white rounded-[1.5rem] border border-gray-100 shadow-[0_2px_8px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_24px_rgba(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-300 overflow-hidden h-full flex flex-col relative",children:[d.jsxs("div",{className:"h-40 overflow-hidden relative",children:[t.image_url?d.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"}):d.jsx("div",{className:"w-full h-full",style:{background:r},children:d.jsx("div",{className:"w-full h-full flex items-center justify-center opacity-10",children:d.jsx("span",{className:"text-4xl font-heading font-bold text-brand-300 select-none",children:"Aa"})})}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.tags&&t.tags.slice(0,3).map((u,c)=>{const h=["bg-blue-50 text-blue-600","bg-purple-50 text-purple-600","bg-orange-50 text-orange-600"],f=h[c%h.length];return d.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-bold ${f}`,children:u},c)})}),d.jsx("h3",{className:"text-lg font-heading font-bold text-navy-900 mb-2 leading-tight group-hover:text-brand-600 transition-colors",children:t.title}),d.jsx("p",{className:"text-navy-500 text-sm line-clamp-2 mb-5 leading-relaxed",children:t.content}),d.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-50 flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("div",{className:"h-7 w-7 rounded-full bg-gray-100 border-2 border-white shadow-sm overflow-hidden flex items-center justify-center",children:(i=t.profiles)!=null&&i.avatar_url?d.jsx("img",{src:t.profiles.avatar_url,alt:"User",className:"h-full w-full object-cover"}):d.jsx("div",{className:"h-full w-full bg-navy-800 flex items-center justify-center text-white text-[10px] font-bold",children:((l=(a=(o=t.profiles)==null?void 0:o.username)==null?void 0:a[0])==null?void 0:l.toUpperCase())||"U"})})}),d.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-navy-400",children:[d.jsxs("div",{className:"flex items-center gap-1",title:`${n} Likes`,children:[d.jsx(Gp,{className:"h-3.5 w-3.5"}),d.jsx("span",{children:n})]}),d.jsxs("div",{className:"flex items-center gap-1",title:`${s} Comments`,children:[d.jsx(Yp,{className:"h-3.5 w-3.5"}),d.jsx("span",{children:s})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(w_,{className:"h-3.5 w-3.5"}),d.jsx("span",{children:e})]})]})]})]})]})})},Mx=()=>{const{user:t,loading:e}=vn(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,a]=b.useState(""),[l,u]=b.useState(null);b.useEffect(()=>{t?c():i(!1)},[t]);const c=async()=>{try{u(null);const{data:f,error:m}=await te.from("notes").select(`
          *,
          profiles (username, avatar_url),
          likes (count),
          comments (count)
        `).order("created_at",{ascending:!1});if(m)throw m;n(f||[])}catch(f){console.error("Error fetching notes:",f),u(f.message)}finally{i(!1)}},h=r.filter(f=>{var g;const m=o.toLowerCase(),y=f.title.toLowerCase().includes(m),w=f.content.toLowerCase().includes(m),_=(g=f.tags)==null?void 0:g.some(p=>p.toLowerCase().includes(m));return y||w||_});return e?d.jsx("div",{className:"h-96"}):t?d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"mb-10",children:[d.jsx("h1",{className:"text-4xl font-heading font-bold text-navy-900 mb-2",children:"Discovery Feed"}),d.jsxs("p",{className:"text-navy-500 text-lg",children:["Explore ",r.length," notes from the community."]})]}),d.jsx("div",{className:"mb-10",children:d.jsxs("div",{className:"relative max-w-3xl",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:d.jsx(ld,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search topics, tags, or titles...",className:"pl-12 block w-full rounded-2xl border-none bg-white py-4 pr-4 shadow-[0_4px_20px_rgba(0,0,0,0.03)] ring-1 ring-gray-100 placeholder:text-gray-400 focus:ring-2 focus:ring-brand-500 focus:outline-none transition-all text-base",value:o,onChange:f=>a(f.target.value)})]})}),s?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(_t,{className:"h-10 w-10 text-brand-500 animate-spin"})}):h.length===0?d.jsxs("div",{className:"text-center py-24 bg-white rounded-[2rem] border border-dashed border-gray-200",children:[d.jsx("div",{className:"h-16 w-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(ld,{className:"h-8 w-8 text-gray-300"})}),d.jsx("h3",{className:"text-lg font-bold text-navy-900",children:"No notes found"}),d.jsx("p",{className:"text-navy-500 mt-2",children:"Try searching for something else."})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(f=>d.jsx("div",{children:d.jsx(rm,{note:f})},f.id))})]}):d.jsx("div",{className:"bg-[#F5F6FB]",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:[d.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white border border-brand-100 text-brand-600 text-xs font-bold uppercase tracking-wider mb-8 shadow-sm animate-fade-in",children:[d.jsx(P_,{className:"h-3 w-3"}),"#1 Note Sharing Platform"]}),d.jsxs("h1",{className:"text-5xl lg:text-7xl font-heading font-bold text-navy-900 mb-8 leading-[1.1] animate-fade-in",style:{animationDelay:"100ms"},children:["Share knowledge. ",d.jsx("br",{}),d.jsx("span",{className:"text-brand-500",children:"Study together."})]}),d.jsx("p",{className:"text-xl text-navy-500 mb-12 max-w-2xl mx-auto leading-relaxed animate-fade-in",style:{animationDelay:"200ms"},children:"Access thousands of high-quality college notes, summaries, and cheat sheets shared by top students from around the world."}),d.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in",style:{animationDelay:"300ms"},children:d.jsxs(je,{to:"/register",className:"w-full sm:w-auto px-8 py-4 rounded-full bg-brand-600 text-white text-lg font-bold hover:bg-brand-700 transition-all shadow-xl shadow-brand-500/20 hover:shadow-brand-500/40 flex items-center justify-center gap-2",children:["Join for Free ",d.jsx(g_,{className:"h-5 w-5"})]})})]}),d.jsx("div",{className:"mt-24 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto animate-fade-in",style:{animationDelay:"500ms"},children:[{icon:v_,title:"Open Library",desc:"Unlimited access to notes from every major."},{icon:R_,title:"Student Community",desc:"Connect with peers in your field of study."},{icon:b_,title:"Accessible Anywhere",desc:"Study on the go with our mobile-first design."}].map((f,m)=>d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 text-center hover:shadow-md transition-shadow",children:[d.jsx("div",{className:"h-14 w-14 bg-brand-50 rounded-2xl flex items-center justify-center text-brand-600 mx-auto mb-6",children:d.jsx(f.icon,{className:"h-7 w-7"})}),d.jsx("h3",{className:"text-xl font-bold text-navy-900 mb-3",children:f.title}),d.jsx("p",{className:"text-navy-500 leading-relaxed",children:f.desc})]},m))})]})})},Bx=()=>{const t=Sr(),[e,r]=b.useState(""),[n,s]=b.useState(""),[i,o]=b.useState(!1),[a,l]=b.useState(null),u=async c=>{c.preventDefault(),o(!0),l(null);try{const{error:h}=await te.auth.signInWithPassword({email:e,password:n});if(h)throw h;t("/")}catch(h){l(h.message||"Failed to login")}finally{o(!1)}};return d.jsx("div",{className:"min-h-[70vh] flex items-center justify-center animate-fade-in",children:d.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 sm:p-10 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-100 rounded-bl-full -mr-10 -mt-10 opacity-50 pointer-events-none"}),d.jsxs("div",{className:"text-center mb-10 relative",children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-navy-900",children:"Welcome Back"}),d.jsx("p",{className:"text-navy-500 mt-2",children:"Sign in to continue your streak."})]}),a&&d.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl text-sm mb-6 flex items-center",children:a}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-500 uppercase tracking-wider ml-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Qp,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"email",required:!0,value:e,onChange:c=>r(c.target.value),className:"block w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none transition-all",placeholder:"you@college.edu"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-500 uppercase tracking-wider ml-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Jp,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"password",required:!0,value:n,onChange:c=>s(c.target.value),className:"block w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none transition-all",placeholder:""})]})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-brand-600 hover:bg-brand-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-500/30 hover:shadow-brand-500/50 hover:-translate-y-0.5 transition-all duration-300 flex justify-center items-center",children:i?d.jsx(_t,{className:"animate-spin h-5 w-5"}):"Sign In"})]}),d.jsxs("div",{className:"mt-8 text-center text-sm text-navy-500",children:["New to NoteSpace?"," ",d.jsx(je,{to:"/register",className:"text-brand-600 hover:text-brand-700 font-bold hover:underline",children:"Create account"})]})]})})},Fx=()=>{const t=Sr(),[e,r]=b.useState(""),[n,s]=b.useState(""),[i,o]=b.useState(""),[a,l]=b.useState(!1),[u,c]=b.useState(null),h=async f=>{f.preventDefault(),l(!0),c(null);try{const{data:m,error:y}=await te.auth.signUp({email:e,password:i,options:{data:{username:n}}});if(y)throw y;m.user&&(alert("Registration successful! You can now log in."),t("/login"))}catch(m){console.error(m),c(m.message||"Failed to register")}finally{l(!1)}};return d.jsx("div",{className:"min-h-[70vh] flex items-center justify-center animate-fade-in",children:d.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 sm:p-10 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-accent rounded-br-full -ml-10 -mt-10 opacity-20 pointer-events-none"}),d.jsxs("div",{className:"text-center mb-10 relative",children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-navy-900",children:"Join NoteSpace"}),d.jsx("p",{className:"text-navy-500 mt-2",children:"Start your journey today."})]}),u&&d.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl text-sm mb-6",children:u}),d.jsxs("form",{onSubmit:h,className:"space-y-5",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-500 uppercase tracking-wider ml-1",children:"Username"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(al,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",required:!0,minLength:3,value:n,onChange:f=>s(f.target.value),className:"block w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none transition-all",placeholder:"Student123"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-500 uppercase tracking-wider ml-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Qp,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"email",required:!0,value:e,onChange:f=>r(f.target.value),className:"block w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none transition-all",placeholder:"you@college.edu"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-500 uppercase tracking-wider ml-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Jp,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"password",required:!0,minLength:6,value:i,onChange:f=>o(f.target.value),className:"block w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none transition-all",placeholder:""})]})]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full bg-navy-800 hover:bg-navy-900 text-white font-bold py-3.5 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 flex justify-center items-center",children:a?d.jsx(_t,{className:"animate-spin h-5 w-5"}):"Create Account"})]}),d.jsxs("div",{className:"mt-8 text-center text-sm text-navy-500",children:["Already have an account?"," ",d.jsx(je,{to:"/login",className:"text-brand-600 hover:text-brand-700 font-bold hover:underline",children:"Log in"})]})]})})},zx=({onUploadComplete:t,onClear:e,currentImage:r})=>{const[n,s]=b.useState(!1),[i,o]=b.useState(null),a=async l=>{try{if(o(null),s(!0),!l.target.files||l.target.files.length===0)throw new Error("You must select an image to upload.");const u=l.target.files[0],c=u.name.split(".").pop(),f=`${`${Date.now()}-${Math.random().toString(36).substring(2)}.${c}`}`,{error:m}=await te.storage.from("note-images").upload(f,u);if(m)throw m;const{data:y}=te.storage.from("note-images").getPublicUrl(f);t(y.publicUrl)}catch(u){o(u.message)}finally{s(!1)}};return d.jsxs("div",{className:"w-full",children:[r?d.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-gray-200 shadow-sm group h-64 bg-gray-100",children:[d.jsx("img",{src:r,alt:"Note attachment",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 bg-white rounded-full text-red-600 font-medium shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[d.jsx(Mi,{className:"h-4 w-4"}),"Remove Image"]})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50/50 hover:bg-brand-50 hover:border-brand-300 transition-all duration-300 group",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[n?d.jsx(_t,{className:"h-10 w-10 text-brand-500 animate-spin mb-3"}):d.jsx("div",{className:"h-12 w-12 rounded-full bg-white shadow-sm flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:d.jsx(k_,{className:"h-6 w-6 text-brand-500"})}),d.jsx("p",{className:"mb-1 text-sm text-navy-600 font-medium",children:n?"Uploading...":"Click to upload or drag and drop"}),d.jsx("p",{className:"text-xs text-navy-400",children:"PNG, JPG or GIF (MAX. 5MB)"})]}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:a,disabled:n})]}),i&&d.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[d.jsx(Mi,{className:"h-3 w-3"})," ",i]})]})},Wx=()=>{const{user:t}=vn(),e=Sr(),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(""),[c,h]=b.useState(null),f=async m=>{if(m.preventDefault(),!!t){n(!0);try{const y=l.split(",").map(_=>_.trim()).filter(Boolean),{error:w}=await te.from("notes").insert([{user_id:t.id,title:s,content:o,image_url:c,tags:y}]);if(w)throw w;e("/")}catch(y){console.error(y),alert("Failed to publish")}finally{n(!1)}}};return d.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-white rounded-full transition-colors text-navy-500",children:d.jsx(Hp,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-lg font-bold text-navy-900",children:"Create New Note"}),d.jsxs("button",{onClick:f,disabled:r,className:"px-6 py-2.5 bg-navy-900 text-white rounded-full font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all disabled:opacity-50 flex items-center gap-2",children:[r?d.jsx(_t,{className:"h-4 w-4 animate-spin"}):d.jsx(O_,{className:"h-4 w-4"}),"Post Note"]})]}),d.jsxs("div",{className:"bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden min-h-[80vh]",children:[d.jsx("div",{className:"p-8 pb-0",children:d.jsx("div",{className:"border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/50 p-1",children:d.jsx(zx,{currentImage:c,onUploadComplete:h,onClear:()=>h(null)})})}),d.jsxs("div",{className:"p-8 md:p-12 space-y-8",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Title"}),d.jsx("input",{type:"text",placeholder:"Enter note title...",className:"w-full text-4xl font-heading font-bold text-navy-900 placeholder:text-gray-300 border-none focus:ring-0 p-0 bg-transparent",value:s,onChange:m=>i(m.target.value),autoFocus:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-400 uppercase tracking-wider",children:"# Tags"}),d.jsx("input",{type:"text",placeholder:"biology, week1, exam-prep...",className:"w-full bg-gray-50 rounded-xl border-none py-3 px-4 text-navy-700 placeholder:text-gray-400 focus:ring-2 focus:ring-brand-500/20",value:l,onChange:m=>u(m.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Content"}),d.jsx("textarea",{placeholder:"Start typing your note here...",className:"w-full h-[50vh] resize-none border-none p-0 text-lg leading-relaxed text-navy-700 placeholder:text-gray-300 focus:ring-0",value:o,onChange:m=>a(m.target.value)})]})]})]})]})},Vx=()=>{var L,Ee,bt,kt,yn,xs;const{id:t}=dy(),[e,r]=b.useState(null),[n,s]=b.useState([]),[i,o]=b.useState(0),[a,l]=b.useState(!1),[u,c]=b.useState(!0),[h,f]=b.useState(""),[m,y]=b.useState(!1),{user:w,isAdmin:_}=vn(),g=Sr();b.useEffect(()=>{t&&p(t)},[t,w==null?void 0:w.id]);const p=async $=>{try{c(!0);const[F,j,A,I]=await Promise.all([te.from("notes").select("*, profiles (username, avatar_url)").eq("id",$).single(),te.from("comments").select("*, profiles (username, avatar_url)").eq("note_id",$).order("created_at",{ascending:!0}),te.from("likes").select("*",{count:"exact",head:!0}).eq("note_id",$),w?te.from("likes").select("user_id").eq("note_id",$).eq("user_id",w.id).single():Promise.resolve({data:null,error:null})]);if(F.error)throw F.error;r(F.data),s(j.data||[]),o(A.count||0),l(!!I.data)}catch(F){console.error("Error fetching note data:",F)}finally{c(!1)}},v=async()=>{if(!w||!e)return alert("Please log in to like notes.");const $=a,F=i;l(!a),o(a?i-1:i+1);try{$?await te.from("likes").delete().eq("note_id",e.id).eq("user_id",w.id):await te.from("likes").insert([{note_id:e.id,user_id:w.id}])}catch(j){l($),o(F),console.error("Error toggling like:",j)}},x=async $=>{if($.preventDefault(),!(!w||!e||!h.trim())){y(!0);try{const{data:F,error:j}=await te.from("comments").insert([{content:h,note_id:e.id,user_id:w.id}]).select("*, profiles(username, avatar_url)").single();if(j)throw j;s([...n,F]),f("")}catch(F){console.error("Failed to post comment",F),alert("Failed to post comment. Please try again.")}finally{y(!1)}}},k=async $=>{if(!confirm("Delete this comment?"))return;const F=[...n];s(n.filter(j=>j.id!==$));try{const{error:j}=await te.from("comments").delete().eq("id",$);if(j)throw j}catch(j){console.error("Error deleting comment",j),alert("Failed to delete comment"),s(F)}},E=async()=>{if(!(!e||!(w&&w.id===e.user_id||_))&&window.confirm("Are you sure you want to delete this note? This action cannot be undone."))try{const{error:F}=await te.from("notes").delete().eq("id",e.id);if(F)throw F;g("/")}catch(F){console.error("Error deleting note:",F),alert("Failed to delete note. Ensure you have permission.")}},O=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};if(u)return d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(_t,{className:"h-10 w-10 text-brand-500 animate-spin"})});if(!e)return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-fade-in",children:[d.jsx("h2",{className:"text-2xl font-bold text-navy-900 mb-2",children:"Note not found"}),d.jsx(je,{to:"/",className:"text-brand-600 font-medium hover:underline",children:"Back to Feed"})]});const N=w&&w.id===e.user_id,U=N||_;return d.jsxs("div",{className:"max-w-4xl mx-auto pb-16 animate-fade-in",children:[d.jsxs(je,{to:"/",className:"inline-flex items-center text-sm font-medium text-navy-500 hover:text-brand-600 mb-8 transition-colors",children:[d.jsx(Hp,{className:"h-4 w-4 mr-1"}),"Back to Feed"]}),d.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 overflow-hidden mb-8",children:[e.image_url&&d.jsx("div",{className:"w-full h-64 sm:h-96 bg-gray-100 relative group",children:d.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-contain bg-navy-900/5 backdrop-blur-sm"})}),d.jsxs("div",{className:"p-8 sm:p-12",children:[d.jsxs("div",{className:"mb-8 border-b border-gray-100 pb-8",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags&&e.tags.map(($,F)=>d.jsx("span",{className:"px-3 py-1 bg-brand-50 text-brand-700 border border-brand-100 rounded-full text-xs font-bold uppercase tracking-wider",children:$},F))}),d.jsx("h1",{className:"text-3xl sm:text-5xl font-heading font-bold text-navy-900 mb-6 leading-tight",children:e.title}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3 bg-white/50 p-2 pr-4 rounded-full border border-white shadow-sm",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-tr from-brand-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:((bt=(Ee=(L=e.profiles)==null?void 0:L.username)==null?void 0:Ee[0])==null?void 0:bt.toUpperCase())||"U"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-navy-900",children:((kt=e.profiles)==null?void 0:kt.username)||"Anonymous"}),d.jsxs("div",{className:"flex items-center text-xs text-navy-500 gap-1",children:[d.jsx(Kp,{className:"h-3 w-3"}),e.created_at&&!isNaN(new Date(e.created_at).getTime())?Fi(new Date(e.created_at),"MMMM d, yyyy"):"Unknown Date"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:v,className:`flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${a?"bg-pink-50 text-pink-600":"bg-white text-navy-500 hover:bg-gray-50"}`,children:[d.jsx(Gp,{className:`h-5 w-5 ${a?"fill-current":""}`}),i]}),d.jsx("button",{onClick:O,className:"p-2.5 rounded-full text-navy-500 hover:bg-brand-50 hover:text-brand-600 transition-colors",title:"Copy Link",children:d.jsx(x_,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>window.print(),className:"p-2.5 rounded-full text-navy-500 hover:bg-brand-50 hover:text-brand-600 transition-colors",title:"Print/PDF",children:d.jsx(j_,{className:"h-5 w-5"})}),U&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),d.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-full transition-colors text-sm font-medium",children:[_&&!N?d.jsx(N_,{className:"h-4 w-4"}):d.jsx(T_,{className:"h-4 w-4"}),"Delete"]})]})]})]})]}),d.jsx("div",{className:"prose prose-lg prose-indigo max-w-none text-navy-700 leading-8",children:e.content.split(`
`).map(($,F)=>$.trim()?d.jsx("p",{children:$},F):d.jsx("br",{},F))})]})]}),d.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-8 sm:p-10",children:[d.jsxs("h3",{className:"text-xl font-heading font-bold text-navy-900 mb-6 flex items-center gap-2",children:[d.jsx(Yp,{className:"h-5 w-5"}),"Comments (",n.length,")"]}),d.jsx("div",{className:"space-y-6 mb-8",children:n.length===0?d.jsx("p",{className:"text-navy-400 italic text-sm",children:"No comments yet. Be the first to discuss!"}):n.map($=>{var F,j,A,I;return d.jsxs("div",{className:"flex gap-4 group",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-700 font-bold text-sm",children:((A=(j=(F=$.profiles)==null?void 0:F.username)==null?void 0:j[0])==null?void 0:A.toUpperCase())||"U"}),d.jsx("div",{className:"flex-grow",children:d.jsxs("div",{className:"bg-white/60 p-4 rounded-2xl rounded-tl-none shadow-sm border border-white/60 relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:"text-sm font-bold text-navy-900",children:((I=$.profiles)==null?void 0:I.username)||"User"}),d.jsx("span",{className:"text-xs text-navy-400",children:$.created_at&&!isNaN(new Date($.created_at).getTime())?Fi(new Date($.created_at),"MMM d, h:mm a"):""})]}),d.jsx("p",{className:"text-navy-700 text-sm leading-relaxed",children:$.content}),(_||w&&w.id===$.user_id)&&d.jsx("button",{onClick:()=>k($.id),className:"absolute -right-2 -top-2 p-1.5 bg-red-100 text-red-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-200",title:"Delete comment",children:d.jsx(Mi,{className:"h-3 w-3"})})]})})]},$.id)})}),w?d.jsxs("form",{onSubmit:x,className:"flex gap-4 items-start",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-navy-800 flex items-center justify-center text-white font-bold text-sm",children:((xs=(yn=w.email)==null?void 0:yn[0])==null?void 0:xs.toUpperCase())||"Me"}),d.jsxs("div",{className:"flex-grow relative",children:[d.jsx("textarea",{value:h,onChange:$=>f($.target.value),placeholder:"Ask a question or share your thoughts...",className:"w-full rounded-2xl border-gray-200 bg-white shadow-inner focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 p-4 text-sm text-navy-800 pr-12 resize-none",rows:2,onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),x($))}}),d.jsx("button",{type:"submit",disabled:m||!h.trim(),className:"absolute right-2 bottom-2 p-2 bg-brand-600 text-white rounded-xl shadow-lg hover:bg-brand-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:m?d.jsx(_t,{className:"h-4 w-4 animate-spin"}):d.jsx(C_,{className:"h-4 w-4"})})]})]}):d.jsx("div",{className:"text-center p-6 bg-brand-50 rounded-2xl border border-brand-100",children:d.jsxs("p",{className:"text-brand-800 text-sm",children:[d.jsx(je,{to:"/login",className:"font-bold underline",children:"Log in"})," to join the discussion."]})})]})]})},qx=()=>{const{user:t}=vn(),[e,r]=b.useState([]),[n,s]=b.useState(null),[i,o]=b.useState(!0),[a,l]=b.useState(0);b.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{if(!t)return;const{data:f}=await te.from("profiles").select("*").eq("id",t.id).single();s(f);const{data:m}=await te.from("notes").select("*, likes(count), comments(count)").eq("user_id",t.id).order("created_at",{ascending:!1}),y=m||[];r(y);const w=y.reduce((_,g)=>{var v,x;const p=((x=(v=g.likes)==null?void 0:v[0])==null?void 0:x.count)||0;return _+p},0);l(w)}catch(f){console.error(f)}finally{o(!1)}};if(i)return d.jsx("div",{className:"h-96 flex items-center justify-center",children:d.jsx(_t,{className:"animate-spin text-brand-500"})});const c=(n==null?void 0:n.username)||"Student",h=t!=null&&t.created_at?Fi(new Date(t.created_at),"MMMM yyyy"):"2025";return d.jsxs("div",{className:"animate-fade-in -mt-4 lg:-mt-8",children:[d.jsxs("div",{className:"h-64 w-full bg-gradient-to-r from-brand-600 to-[#7B2CBF] rounded-b-[3rem] shadow-lg mb-20 relative",children:[d.jsx("div",{className:"absolute -bottom-16 left-8 sm:left-12 flex items-end",children:d.jsx("div",{className:"h-32 w-32 sm:h-40 sm:w-40 bg-white p-1.5 rounded-[2rem] shadow-xl",children:d.jsx("div",{className:"h-full w-full bg-navy-900 rounded-[1.7rem] flex items-center justify-center overflow-hidden",children:n!=null&&n.avatar_url?d.jsx("img",{src:n.avatar_url,className:"h-full w-full object-cover",alt:"Profile"}):d.jsx("span",{className:"text-6xl font-heading font-bold text-white",children:c[0].toUpperCase()})})})}),d.jsxs("div",{className:"hidden sm:flex absolute -bottom-10 right-12 bg-white rounded-2xl shadow-xl p-6 items-center gap-8 border border-gray-100",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-navy-900",children:e.length}),d.jsx("div",{className:"text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Notes"})]}),d.jsx("div",{className:"w-px h-8 bg-gray-100"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-navy-900",children:"0"}),d.jsx("div",{className:"text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Followers"})]}),d.jsx("div",{className:"w-px h-8 bg-gray-100"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-navy-900",children:a}),d.jsx("div",{className:"text-xs font-bold text-navy-400 uppercase tracking-wider",children:"Likes"})]})]})]}),d.jsxs("div",{className:"px-4 sm:px-6 mb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-heading font-bold text-navy-900",children:c}),d.jsx("p",{className:"text-navy-500 text-lg",children:"Computer Science Student"}),d.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-navy-400",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(S_,{className:"h-4 w-4"})," Stanford University"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Kp,{className:"h-4 w-4"})," Joined ",h]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"h-8 w-1 bg-accent rounded-full"}),d.jsx("h2",{className:"text-xl font-heading font-bold text-navy-900",children:"My Notes"})]}),e.length===0?d.jsx("div",{className:"py-12 text-center bg-white rounded-3xl border border-gray-100",children:d.jsx("p",{className:"text-navy-400",children:"No notes yet."})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(f=>d.jsx(rm,{note:f},f.id))})]})]})},md=({children:t})=>{const{user:e,loading:r}=vn();return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(_t,{className:"h-8 w-8 text-blue-500 animate-spin"})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(jy,{to:"/login",replace:!0})},Hx=()=>d.jsx(f_,{children:d.jsx($y,{children:d.jsx(Cy,{children:d.jsxs(Ot,{path:"/",element:d.jsx(A_,{}),children:[d.jsx(Ot,{index:!0,element:d.jsx(Mx,{})}),d.jsx(Ot,{path:"login",element:d.jsx(Bx,{})}),d.jsx(Ot,{path:"register",element:d.jsx(Fx,{})}),d.jsx(Ot,{path:"note/:id",element:d.jsx(Vx,{})}),d.jsx(Ot,{path:"create",element:d.jsx(md,{children:d.jsx(Wx,{})})}),d.jsx(Ot,{path:"profile",element:d.jsx(md,{children:d.jsx(qx,{})})})]})})})}),nm=document.getElementById("root");if(!nm)throw new Error("Could not find root element to mount to");const Kx=Xo.createRoot(nm);Kx.render(d.jsx(Od.StrictMode,{children:d.jsx(Hx,{})}));
